<!DOCTYPE html>
<html  lang="en" dir="ltr">
  <head>
    <meta charset="utf-8" />
<script>(function(i,s,o,g,r,a,m){i["GoogleAnalyticsObject"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,"script","https://www.google-analytics.com/analytics.js","ga");ga("create", "UA-2728311-17", {"cookieDomain":"auto"});ga("set", "anonymizeIp", true);ga("send", "pageview");</script>
<meta name="Generator" content="Drupal 8 (https://www.drupal.org)" />
<meta name="MobileOptimized" content="width" />
<meta name="HandheldFriendly" content="true" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link rel="shortcut icon" href="sites/default/files/favicon-64.png" type="image/png" />
<link rel="alternate" hreflang="en" href="live-api-vod-live-event.html" />
<link rel="canonical" href="live-api-vod-live-event.html" />
<link rel="shortlink" href="live-api-vod-live-event.html" />
<link rel="revision" href="live-api-vod-live-event.html" />

    <title>Live API: VOD from Live Event | Brightcove Learning</title>
    <link rel="stylesheet" media="all" href="sites/default/files/css/css_d7PoQ20hWbRiei75VgExP_tm8C1ylIRfzB3zIYLc5Cw_q23msc.css" />
<link rel="stylesheet" media="all" href="https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/css/bootstrap.min.css" />
<link rel="stylesheet" media="all" href="https://cdn.jsdelivr.net/npm/@unicorn-fail/drupal-bootstrap-styles@0.0.2/dist/3.4.0/8.x-3.x/drupal-bootstrap.min.css" />


    
<!--[if lte IE 8]>
<script src="/sites/default/files/js/js_VtafjXmRvoUgAzqzYTA3Wrjkx9wcWhjP0G4ZnnqRamA.js"></script>
<![endif]-->

    <meta name="uri-translation" content="on" />
    <script>
window['_fs_debug'] = false; window['_fs_host'] = 'fullstory.com';
window['_fs_org'] = 'BX3Q1';
window['_fs_namespace'] = 'FS';
(function(m,n,e,t,l,o,g,y){
if (e in m) {if(m.console && m.console.log) { m.console.log('FullStory namespace conflict. Please set window["_fs_namespace"].');} return;}
g=m[e]=function(a,b){g.q?g.q.push([a,b]):g._api(a,b);};g.q=[];
o=n.createElement(t);o.async=1;o.src='https://'+_fs_host+'/s/fs.js';
y=n.getElementsByTagName(t)[0];y.parentNode.insertBefore(o,y);
g.identify=function(i,v){g(l,{uid:i});if(v)g(l,v)};g.setUserVars=function(v){g(l,v)};
g.shutdown=function(){g("rec",!1)};g.restart=function(){g("rec",!0)};
g.consent=function(a){g("consent",!arguments.length||a)};
g.identifyAccount=function(i,v){o='account';v=v||{};v.acctId=i;g(o,v)};
g.clearUserCookie=function(){};
})(window,document,window['_fs_namespace'],'script','user');
    </script>
  </head>
  <body class="path-node page-node-type-support-doc has-glyphicons">


<section id="block-gtranslate" class="block block-gtranslate block-gtranslate-block clearfix">
  
    

      



  </section>


  </div>

      </div>
      

                    <div class="navbar-collapse collapse">
            <div class="region region-navigation-collapsible">
    

  </div>

        </div>
          </header>
  
    <div class="full-width-headline">
    <div class="container">
      <div class="row">
        <div class="col-sm-12" role="heading">
            <div class="region region-header">
          <section id="block-brightcoveheadlineblock" class="block block-bc-general block-bc-general-headline-block clearfix">
  
    

      Documentation
  </section>


  </div>

        </div>
      </div>
    </div>
  </div>
  
      <div role="main" class="main-container container  js-quickedit-main-content">
    <div class="row">

                              <aside class="col-sm-3" role="complementary">
              <div class="region region-sidebar-first">
    <section class="bc-search-fixes-search-block-form block block-bc-search-fixes block-bc-search-fixes-search-block clearfix" data-drupal-selector="bc-search-fixes-search-block-form" id="block-brightcovesearchblock">
  
    

      <form action="live-api-vod-live-event.html" method="post" id="bc-search-fixes-search-block-form" accept-charset="UTF-8">
  <div class="form-item js-form-item form-type-textfield js-form-type-textfield form-item-search js-form-item-search form-no-label form-group">
      <label for="edit-search" class="control-label sr-only">Search</label>
  
  
  <input data-drupal-selector="edit-search" class="form-text form-control" type="text" id="edit-search" name="search" value="" size="15" maxlength="128" placeholder="Search" />

  
  
  </div>
<input autocomplete="off" data-drupal-selector="form-l1-vafwbqro7cqcwab11w77ty-qsboutg31czq5fby" type="hidden" name="form_build_id" value="form-L1__vAfwBqRo7CqCwab11W77tY-QsbouTG31czq5fbY" /><input data-drupal-selector="edit-bc-search-fixes-search-block-form" type="hidden" name="form_id" value="bc_search_fixes_search_block_form" /><div data-drupal-selector="edit-actions" class="form-actions form-group js-form-wrapper form-wrapper" id="edit-actions"><button data-drupal-selector="edit-submit" class="button js-form-submit form-submit btn-primary btn icon-only" type="submit" id="edit-submit" name="op" value="Search"><span class="sr-only">Search</span><span class="icon glyphicon glyphicon-search" aria-hidden="true"></span></button></div>

</form>

  </section>

<section id="block-inpagenavigationblock" class="hidden-xs block block-bc-ipnav block-bc-ipnav-block clearfix">
  
      <h2 class="block-title">On This Page</h2>
    

      <div class="bc-ipnav-block"></div>
  </section>


  </div>

          </aside>
              
                  <section class="col-sm-9">

                                      <div class="highlighted">  <div class="region region-highlighted">
    <div data-drupal-messages-fallback class="hidden"></div>

  </div>
</div>
                  
                
                
                
                          <a id="main-content"></a>
            <div class="region region-content">
        <h1 class="page-header"><span>Live API: VOD from Live Event</span>
</h1>

  
<div class="node node--type-support-doc node--view-mode-full bcdocs-four-rows clearfix">

  

  <div class="group-first-row">
      </div>

  <div class="group-second-row">
  
  <div class="field field--name-field-products field--type-entity-reference field--label-visually_hidden">
    <div class="field--label sr-only">Product(s)</div>
          <div class="field__items taxonomy__tags">
        <svg class="icon--product" viewBox="0 0 100 100">
          <use xlink:href="//support.brightcove.com/themes/custom/bcdocs/images/icons.svg#icon--product"></use>
        </svg>
              <div class="field--item">Video Cloud</div>
          <div class="field--item">Live</div>
              </div>
      </div>

  <div class="field field--name-field-roles field--type-entity-reference field--label-visually_hidden">
    <div class="field--label sr-only">Role(s)</div>
          <div class="field__items taxonomy__tags">
        <svg class="icon--roles" viewBox="0 0 100 100">
          <use xlink:href="//support.brightcove.com/themes/custom/bcdocs/images/icons.svg#icon--roles"></use>
        </svg>
              <div class="field--item">API Developer</div>
              </div>
      </div>

</div>

  
<div class="group-third-row taxonomy__tags">
      <svg class="icon--label" viewBox="0 0 100 100">
      <use xlink:href="//support.brightcove.com/themes/custom/bcdocs/images/icons.svg#icon--label"></use>
    </svg>
    
  <div class="field field--name-field-topics field--type-entity-reference field--label-visually_hidden">
    <div class="field--label sr-only">Topic(s)</div>
          <div class="field--items">
              <div class="field--item">Live Streaming</div>
              </div>
      </div>

  <div class="field field--name-field-apis field--type-entity-reference field--label-visually_hidden">
    <div class="field--label sr-only">API(s)</div>
          <div class="field--items">
              <div class="field--item">Live API</div>
              </div>
      </div>

  <div class="field field--name-field-type field--type-entity-reference field--label-visually_hidden">
    <div class="field--label sr-only">Type</div>
              <div class="field--item">Support Doc</div>
          </div>

</div>

  <div class="group-fourth-row">
  
            <div class="field field--name-field-support-doc-body field--type-text-with-summary field--label-hidden field--item"><p>In this topic, you will learn how to create a video-on-demand (VOD) from a live streaming event after the event is complete.</p>

<p class="BCL-aside">Note: Live to VOD can't be used with encrypted streams, and will return an error when creating a Live job event.</p><article class="bcls-article"><section class="bcls-section"><h2 id="Introduction">Introduction</h2>

<p>For shorter live streaming events, you may want to make a recording of the event available as a video-on-demand (VOD) in your <span class="notranslate">Video Cloud</span> account after the event has completed. You can easily do this by adding some configuration for the VOD when you <a href="https://docs.brightcove.com/live-api/v1/doc/index.html#api-Live_Jobs-Create_a_Live_Job">create your live job</a>.</p>

<p>Fast Live to VOD allows for clips to be published quickly with segment accuracy while a backend process that's fully transparent to the customer will clean up the clip boundaries and re-publish.</p>

<p>The result is a faster time to market with a clip that will automatically re-publish with the desired clip boundaries.</p>

<p><strong>Important</strong>:</p>

<ul><li>When the live streaming event is complete, stop your encoder, but <strong>do not <a href="https://docs.brightcove.com/live-api/v1/doc/index.html#api-Live_Jobs-Cancel_Live_Job">cancel</a> the job</strong>. Wait until the VOD clip has been created before cancelling the job, or it will not be created successfully.</li>
	<li>Creation of the VOD will not begin until the <code>reconnect_time</code> for the live job has expired.</li>
	<li>If the live event duration is greater than 24 hours, only the final 24 hours will be captured in the VOD.</li>
</ul><section class="bcls-subsection"><h3 id="fast_vod">Fast VOD option</h3>

<p>The fast VOD option allows you to get the VOD version of the live event more quickly. Fast Live to VOD will publish (using a transmux) of live renditions which will be <strong>segment accurate</strong>.</p>

<p>The the <code>output</code> fields for fast VOD are:</p>

<ul><li><code>mode</code> (required for fast VOD) - for fast VOD, the value will be <code>instant</code></li>
	<li><code>playlist_label</code> (optional) - Only applicable for instant mode VODs. Indicates which playlist to use to create a VOD output (from the live job). Only necessary if custom playlists were defined at live job creation.</li>
</ul></section></section><section class="bcls-section"><h2 id="Implementation">Implementation</h2>

<h3>Send to <span class="notranslate">Video Cloud</span></h3>

<p>Note that there are two ways that <code class="notranslate">videocloud</code> objects are used when you create a new live job:</p>

<ol><li>Including <code class="notranslate">videocloud</code> in the <strong>job-level fields</strong> will create a video in the <span class="notranslate">Video Cloud</span> account which will take the live stream as a remote asset:

	<pre class="line-numbers">
<code class="language-json notranslate">{
    "live_stream": true,
    "region": "us-west-2",
    "reconnect_time": 2400,
    "live_dvr_sliding_window_duration": 30,
    <span class="bcls-highlight">"videocloud": {
  		"video": {
  			"name": "test_live_stream"
  		}
  	}</span>...</code></pre>

	<p>In this case, there is no <code class="notranslate">ingest</code> object inside the <code class="notranslate">videocloud</code> object, because nothing will be ingested.</p>
	</li>
	<li>
	<p>Including the <code class="notranslate">videocloud</code> object in the properties of an <code class="notranslate">outputs</code> clip or full VOD object will create a <span class="notranslate">Video Cloud</span> video for the clip - the clip is ingested into <span class="notranslate">Video Cloud</span> and becomes part of the VOD library:</p>

	<pre class="line-numbers">
<code class="language-json notranslate">{
    "live_stream": true,
    "region": "us-west-2",
    "reconnect_time": 2400,
    "live_dvr_sliding_window_duration": 30,
	"videocloud": {
		"video": {
			"name": "test_live_stream"
		}
	},
  "outputs": [
      <span class="bcls-highlight">{ "videocloud": {
          "video": {
              "name": "video name",
          },
          "ingest": {
              "profile": "<span class="bcls-input">valid-ingest-profile-name</span>"
          }
      },
      "credentials": "<span class="bcls-input">USER_VIDEOCLOUD_CREDENTIAL_LABEL</span>"
      } </span>
  ]
}</code></pre>
	</li>
</ol><p>To have a VOD version of the event saved to your <span class="notranslate">Video Cloud</span> account, include a version of the highlighted <strong>output</strong> below.</p>

<pre class="line-numbers">
<code class="language-json">{
    "live_stream": true,
    "region": "us-west-2",
    "reconnect_time": 600,
    "ad_insertion": false,
    "outputs": [
        { OTHER_JOB_OUTPUT_OBJECT },
        { OTHER_JOB_OUTPUT_OBJECT_2 },
        <span class="bcls-highlight">{ "videocloud": {
            "video": {
                "name": "video name",
                "description": "video description",
                "long_description": "long description",
                "tags": [
                "tag1", "tag2"
                ],
                "schedule":
                { "starts_at": "2017-01-01T12:00:00-04:00", "ends_at": "2099-01-01T12:00:00-04:00" }
                ,
                "custom_fields": {
                    "someCustomField": "value"
                }
            },
            "ingest": {
                "profile": "<span class="bcls-input">valid-ingest-profile-name</span>"
            }
        },
        "credentials": "<span class="bcls-input">USER_VIDEOCLOUD_CREDENTIAL_LABEL</span>"
        } </span>
    ]
}</code></pre>

<aside class="bcls-aside bcls-aside--information">If you do not yet have credentials for your S3 bucket set up, you can add a new credentials <a href="https://docs.brightcove.com/live-api/v1/doc/index.html#operation/CreateCredential">via the API</a>.</aside><p>Note that for the video metadata, you can include any fields listed for the <a href="https://docs.brightcove.com/cms-api/v1/doc/index.html#api-videoGroup-Create_Video">Create Video</a> operation of the CMS API.</p>

<p>Ingest profiles define the renditions that will be created for the VOD. For <code>valid-ingest-profile-name</code>, you can substitute the name of any custom or standard ingest profile for your account. What standard profiles you have depends on whether or not your account is enabled for Dynamic Delivery (if you are not sure, see the <a href="dynamic-ingest-api.html">introductory paragraph on this page</a>). See the <a href="standard-ingest-profiles-dynamic-delivery-and-context-aware-encoding.html">Standard Ingest Profiles for Dynamic Delivery and Context Aware Encoding</a> or the <a href="standard-ingest-profiles-legacy-transcoding.html">Standard Ingest Profiles for Legacy Transcoding</a>.</p>

<aside class="bcls-aside bcls-aside--information">Note that the <code>profile</code> field is optional. If you do not specify a profile, the default profile for the account will be used.</aside><h3>Send to S3</h3>

<p>To have a VOD version of the event saved to your S3 bucket, include a version of the highlighted <strong>output</strong> below.</p>

<pre class="line-numbers">
<code class="language-json">{
    "live_stream": true,
    "region": "us-west-2",
    "reconnect_time": 600,
    "ad_insertion": false,
    "outputs": [
        { OTHER_JOB_OUTPUT_OBJECT },
        { OTHER_JOB_OUTPUT_OBJECT_2 },
        <span class="bcls-highlight">{
        "url":"s3://YOUR_BUCKET/path/filename.mp4",
        "credentials": "<span class="bcls-input">YOUR_CREDENTIAL_LABEL</span>",
        "notifications":    [{
            "url": "http://httpbin.org/post?vodStateChange"
        },
        {
            "url": "http://httpbin.org/post?vodFinished",
            "event": "output_finished"
        }]
    }</span>
    ]
}</code></pre>

<aside class="bcls-aside bcls-aside--information">A credential label for a valid username+password for your S3 bucket should have been created when your Live account was set up, and the credential label sent to you. If you do not have it, please <a href="https://help.brightcove.com/en/contact">Contact Brightcove Support</a>.</aside></section><section class="bcls-section"><h2 id="Limitations">Limitations</h2>

<ul><li>If you <a href="https://docs.brightcove.com/live-api/v1/doc/index.html#api-Live_Jobs-Stop_Live_Job">stop (cancel)</a> the live job before the VOD has been created, it will not be created. Instead, stop your encoder to initiate creation of the VOD, and wait for that to finish before stopping the job.</li>
	<li>For <a href="live-api-static-entry-points.html">Static Entry Point</a> streams <strong>only</strong>, Live to VOD can not be set to archive the stream on completion.
	<p style="font-weight:bold;">Alternatives:</p>

	<ul><li>Use <a href="live-api-creating-vod-clips.html">clipping</a> to archive the full live event as a VOD. The window for clipping will be available for the standard duration after an event or until the next activation of the SEP (whichever is shorter).</li>
	</ul></li>
</ul></section></article></div>
      
</div>

</div>


<section class="views-element-container block block-views block-views-blockrelated-content-by-field-block-1 clearfix" id="block-views-block-related-content-by-field-block-1">
  
    

      <div class="form-group"><div class="view view-related-content-by-field view-id-related_content_by_field view-display-id-block_1 js-view-dom-id-eec9b8201e89524b07251f1896d4a821c03e1808293df94a36d7f5097a97378e">
  
    
      <div class="view-header">
      <h2>Related content</h2>
    </div>
      
      <div class="view-content">
      <div class="item-list">
  
  <ul>

          <li><div class="views-field views-field-title"><span class="field-content"><span class="content-type-support_doc"><a href="live-api-creating-vod-clips.html" hreflang="en">Live API: Creating VOD Clips</a></span></span></div></li>
          <li><div class="views-field views-field-title"><span class="field-content"><span class="content-type-support_doc"><a href="overview-brightcove-live-api.html" hreflang="en">Overview: Brightcove Live API</a></span></span></div></li>
          <li><div class="views-field views-field-title"><span class="field-content"><span class="content-type-support_doc"><a href="quick-start-create-live-stream-using-brightcove-live-api.html" hreflang="en">Quick Start: Create a Live Stream Using the Brightcove Live API</a></span></span></div></li>
    
  </ul>

</div>

    </div>
  
          </div>
</div>

  </section>


  </div>

              </section>

                </div>
  </div>

      
  
  </div>

    
    <script type="application/json" data-drupal-selector="drupal-settings-json">{"path":{"baseUrl":"\/","scriptPath":null,"pathPrefix":"","currentPath":"node\/18447","currentPathIsAdmin":false,"isFront":false,"currentLanguage":"en"},"pluralDelimiter":"\u0003","google_analytics":{"trackOutbound":true,"trackMailto":true,"trackDownload":true,"trackDownloadExtensions":"7z|aac|arc|arj|asf|asx|avi|bin|csv|doc(x|m)?|dot(x|m)?|exe|flv|gif|gz|gzip|hqx|jar|jpe?g|js|mp(2|3|4|e?g)|mov(ie)?|msi|msp|pdf|phps|png|ppt(x|m)?|pot(x|m)?|pps(x|m)?|ppam|sld(x|m)?|thmx|qtm?|ra(m|r)?|sea|sit|tar|tgz|torrent|txt|wav|wma|wmv|wpd|xls(x|m|b)?|xlt(x|m)|xlam|xml|z|zip"},"bootstrap":{"forms_has_error_value_toggle":1,"modal_animation":1,"modal_backdrop":"true","modal_focus_input":1,"modal_keyboard":1,"modal_select_text":1,"modal_show":1,"modal_size":"","popover_enabled":1,"popover_animation":1,"popover_auto_close":1,"popover_container":"body","popover_content":"","popover_delay":"0","popover_html":0,"popover_placement":"right","popover_selector":"","popover_title":"","popover_trigger":"click"},"ajaxTrustedUrl":{"form_action_p_pvdeGsVG5zNF_XLGPTvYSKCf43t8qZYSwcfZl2uzM":true},"user":{"uid":0,"permissionsHash":"3b7fdb4927baca3ee2939edeb777485b3e2c2d36cf8c80e0d8f49c6dc5e2eeca"}}</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

  <script type="text/javascript">window.NREUM||(NREUM={});NREUM.info={"beacon":"bam.nr-data.net","licenseKey":"e78a80aa93","applicationID":"129613202","transactionName":"YwBUZkcFVktUWhJQX1pKd1FBDVdWGkkHXlVrBldRXQE=","queueTime":0,"applicationTime":26,"atts":"T0dXEA8fRUU=","errorBeacon":"bam.nr-data.net","agent":""}</script></body>
</html>
