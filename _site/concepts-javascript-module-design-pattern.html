<!DOCTYPE html>
<html  lang="en" dir="ltr">
  <head>
    <meta charset="utf-8" />
<script>(function(i,s,o,g,r,a,m){i["GoogleAnalyticsObject"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,"script","https://www.google-analytics.com/analytics.js","ga");ga("create", "UA-2728311-17", {"cookieDomain":"auto"});ga("set", "anonymizeIp", true);ga("send", "pageview");</script>
<meta name="Generator" content="Drupal 8 (https://www.drupal.org)" />
<meta name="MobileOptimized" content="width" />
<meta name="HandheldFriendly" content="true" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link rel="shortcut icon" href="sites/default/files/favicon-64.png" type="image/png" />
<link rel="alternate" hreflang="en" href="concepts-javascript-module-design-pattern.html" />
<link rel="canonical" href="concepts-javascript-module-design-pattern.html" />
<link rel="shortlink" href="concepts-javascript-module-design-pattern.html" />
<link rel="revision" href="concepts-javascript-module-design-pattern.html" />

    <title>Concepts: The JavaScript Module Design Pattern | Brightcove Learning</title>
    <link rel="stylesheet" media="all" href="sites/default/files/css/css_d7PoQ20hWbRiei75VgExP_tm8C1ylIRfzB3zIYLc5Cw_q23msc.css" />
<link rel="stylesheet" media="all" href="https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/css/bootstrap.min.css" />
<link rel="stylesheet" media="all" href="https://cdn.jsdelivr.net/npm/@unicorn-fail/drupal-bootstrap-styles@0.0.2/dist/3.4.0/8.x-3.x/drupal-bootstrap.min.css" />


    
<!--[if lte IE 8]>
<script src="/sites/default/files/js/js_VtafjXmRvoUgAzqzYTA3Wrjkx9wcWhjP0G4ZnnqRamA.js"></script>
<![endif]-->

    <meta name="uri-translation" content="on" />
    <script>
window['_fs_debug'] = false; window['_fs_host'] = 'fullstory.com';
window['_fs_org'] = 'BX3Q1';
window['_fs_namespace'] = 'FS';
(function(m,n,e,t,l,o,g,y){
if (e in m) {if(m.console && m.console.log) { m.console.log('FullStory namespace conflict. Please set window["_fs_namespace"].');} return;}
g=m[e]=function(a,b){g.q?g.q.push([a,b]):g._api(a,b);};g.q=[];
o=n.createElement(t);o.async=1;o.src='https://'+_fs_host+'/s/fs.js';
y=n.getElementsByTagName(t)[0];y.parentNode.insertBefore(o,y);
g.identify=function(i,v){g(l,{uid:i});if(v)g(l,v)};g.setUserVars=function(v){g(l,v)};
g.shutdown=function(){g("rec",!1)};g.restart=function(){g("rec",!0)};
g.consent=function(a){g("consent",!arguments.length||a)};
g.identifyAccount=function(i,v){o='account';v=v||{};v.acctId=i;g(o,v)};
g.clearUserCookie=function(){};
})(window,document,window['_fs_namespace'],'script','user');
    </script>
  </head>
  <body class="path-node page-node-type-support-doc has-glyphicons">


<section id="block-gtranslate" class="block block-gtranslate block-gtranslate-block clearfix">
  
    

      



  </section>


  </div>

      </div>
      

                    <div class="navbar-collapse collapse">
            <div class="region region-navigation-collapsible">
    

  </div>

        </div>
          </header>
  
    <div class="full-width-headline">
    <div class="container">
      <div class="row">
        <div class="col-sm-12" role="heading">
            <div class="region region-header">
          <section id="block-brightcoveheadlineblock" class="block block-bc-general block-bc-general-headline-block clearfix">
  
    

      Documentation
  </section>


  </div>

        </div>
      </div>
    </div>
  </div>
  
      <div role="main" class="main-container container  js-quickedit-main-content">
    <div class="row">

                              <aside class="col-sm-3" role="complementary">
              <div class="region region-sidebar-first">
    <section class="bc-search-fixes-search-block-form block block-bc-search-fixes block-bc-search-fixes-search-block clearfix" data-drupal-selector="bc-search-fixes-search-block-form" id="block-brightcovesearchblock">
  
    

      <form action="concepts-javascript-module-design-pattern.html" method="post" id="bc-search-fixes-search-block-form" accept-charset="UTF-8">
  <div class="form-item js-form-item form-type-textfield js-form-type-textfield form-item-search js-form-item-search form-no-label form-group">
      <label for="edit-search" class="control-label sr-only">Search</label>
  
  
  <input data-drupal-selector="edit-search" class="form-text form-control" type="text" id="edit-search" name="search" value="" size="15" maxlength="128" placeholder="Search" />

  
  
  </div>
<input autocomplete="off" data-drupal-selector="form-tmwl7by7t7xjcel-73rfug2i6o0encymfts0ygkjmno" type="hidden" name="form_build_id" value="form-tMwL7bY7t7xJCEL-73rFug2I6O0enCYmFts0yGKJMNo" /><input data-drupal-selector="edit-bc-search-fixes-search-block-form" type="hidden" name="form_id" value="bc_search_fixes_search_block_form" /><div data-drupal-selector="edit-actions" class="form-actions form-group js-form-wrapper form-wrapper" id="edit-actions"><button data-drupal-selector="edit-submit" class="button js-form-submit form-submit btn-primary btn icon-only" type="submit" id="edit-submit" name="op" value="Search"><span class="sr-only">Search</span><span class="icon glyphicon glyphicon-search" aria-hidden="true"></span></button></div>

</form>

  </section>

<section id="block-inpagenavigationblock" class="hidden-xs block block-bc-ipnav block-bc-ipnav-block clearfix">
  
      <h2 class="block-title">On This Page</h2>
    

      <div class="bc-ipnav-block"></div>
  </section>


  </div>

          </aside>
              
                  <section class="col-sm-9">

                                      <div class="highlighted">  <div class="region region-highlighted">
    <div data-drupal-messages-fallback class="hidden"></div>

  </div>
</div>
                  
                
                
                
                          <a id="main-content"></a>
            <div class="region region-content">
        <h1 class="page-header"><span>Concepts: The JavaScript Module Design Pattern</span>
</h1>

  
<div class="node node--type-support-doc node--view-mode-full bcdocs-four-rows clearfix">

  

  <div class="group-first-row">
      </div>

  <div class="group-second-row">
  
  <div class="field field--name-field-products field--type-entity-reference field--label-visually_hidden">
    <div class="field--label sr-only">Product(s)</div>
          <div class="field__items taxonomy__tags">
        <svg class="icon--product" viewBox="0 0 100 100">
          <use xlink:href="//support.brightcove.com/themes/custom/bcdocs/images/icons.svg#icon--product"></use>
        </svg>
              <div class="field--item">Video Cloud</div>
              </div>
      </div>

  <div class="field field--name-field-roles field--type-entity-reference field--label-visually_hidden">
    <div class="field--label sr-only">Role(s)</div>
          <div class="field__items taxonomy__tags">
        <svg class="icon--roles" viewBox="0 0 100 100">
          <use xlink:href="//support.brightcove.com/themes/custom/bcdocs/images/icons.svg#icon--roles"></use>
        </svg>
              <div class="field--item">Player Developer</div>
              </div>
      </div>

</div>

  
<div class="group-third-row taxonomy__tags">
      <svg class="icon--label" viewBox="0 0 100 100">
      <use xlink:href="//support.brightcove.com/themes/custom/bcdocs/images/icons.svg#icon--label"></use>
    </svg>
    
  <div class="field field--name-field-topics field--type-entity-reference field--label-visually_hidden">
    <div class="field--label sr-only">Topic(s)</div>
          <div class="field--items">
              <div class="field--item">Developer Concepts/Tools</div>
              </div>
      </div>

</div>

  <div class="group-fourth-row">
  
            <div class="field field--name-field-support-doc-body field--type-text-with-summary field--label-hidden field--item"><p>In this topic, you will learn how to use the JavaScript Module Design Pattern to reduce the chance that your code will conflict with other scripts on your web page.</p>
                <article class="bcls-article"><section class="bcls-section" id="Scope_conflicts"><h2>Scope conflicts</h2>

<p>In JavaScript, when you define a variable using the <code>var</code> element, it is scoped within the function that it is defined. If you define a variable without using <code>var</code>, then it is assigned the global scope. This means that global variables are vulnerable to collisions with other scripts on your page.</p>

<p>Let's look at a code example. In the following code, the function and the variables exist within the scope of the page.</p>

<pre class="line-numbers">
<code class="language-javascript">// script 1
var incrementCount = function() {
    count++;
}

var myButton = document.getElementById('buttonId');
var count = 0;

myButton.onclick = incrementCount;</code></pre>

<p>Now, let's say there is a function outside of your script that also modifies the global <code>count</code> variable. This collision of scripts can cause unexpected results.</p>

<pre class="line-numbers">
<code class="language-javascript">// script 2
var countVideos = function(videoList) {
    count = videoList.length;
}</code></pre>

<p>Results:</p>

<ol><li>User selects the <code>myButton</code> button two times, incrementing the <code>count</code> variable in <code>script 1</code>.

	<ul><li><code>count</code> = <strong>2</strong></li>
	</ul></li>
	<li>The <code>countvideos</code> function is called which exists in <code>Script 2</code>, but also on your web page. Let's say that the <code>videoList</code> contains 10 items. Now, the <code>count</code> global variable has a value of <strong>10</strong>.
	<ul><li><code>count</code> = <strong>10</strong></li>
	</ul></li>
	<li>The next time the user selects the <code>myButton</code> button, the <code>count</code> variable will return unexpected results.
	<ul><li>Expected: <code>count</code> = <strong>3</strong></li>
		<li>Actual: <code>count</code> = <strong>11</strong></li>
	</ul></li>
</ol><p>You may try to avoid conflicts in your scripts, but there is no guarantee that third-party scripts included in your page will not use similar function and variable names.</p>
</section><section class="bcls-section" id="Anonymous_functions"><h2>Anonymous functions</h2>

<p>One solution is to wrap your code in an anonymous function (also called a closure), that gets executed immediately. Your code within a closure is not accessible by other scripts. So, this gives you a way to create private functions and variables.</p>

<p>Here is the syntax for an anonymous function:</p>

<ul><li>Line 3: includes an additional set of parentheses, which tells JavaScript to execute the function immediately after it has been parsed, instead of waiting for some other code to call the function.</li>
</ul><pre class="line-numbers">
<code class="language-javascript">(function () {
    // your code
}<span class="bcls-highlight">()</span>);</code></pre>

<p>Closures can be powerful, as they provide privacy and state throughout the lifetime of the application. For the code inside the closure, all variables and functions are in the closure scope only. But, your code inside the closure can still access any global variables or functions.</p>
</section><section class="bcls-section" id="Globals"><h2>Globals</h2>

<p>Although JavaScript has a feature known as implied globals, it may make your code hard to manage, as it is not easy to determine which variables are global. To determine if a variable is global, the interpreter has to walk backwards through the scope chain looking for a <code>var</code> statement that matches in name. If none is found, the variable is assumed to be global.</p>

<h3>Pass in globals</h3>

<p>With the anonymous function, you can explicitly pass in global parameters. This is called importing parameters into your code.</p>

<p>Here is an example:</p>

<ul><li>Line 1: defines the name of the parameters being passed into the function. Notice that they do not have to match the names in line 3. Here, the <code>window</code> object is passed into a parameter named <code>window1</code>.</li>
	<li>Line 3: passes the <code>window</code> object into the function.</li>
</ul><pre class="line-numbers">
<code class="language-javascript">(function( window1, undefined ) {
    ...
})(window);</code></pre>

<p>Since there is only 1 object being passed in, but there are two parameters, the value of <code>undefined</code> will be undefined.</p>

<pre class="line-numbers">
<code class="language-javascript">typeof undefined == "undefined"</code></pre>

<p>This can be handy if you want an easy way to check if other variables are defined.</p>

<pre class="line-numbers">
<code class="language-javascript">if(variable1 === undefined)</code></pre>

<h3>Export globals</h3>

<p>You may also want to pass variables and functions outside of your anonymous function. You can do this by using the <code>return</code> value.</p>

<p>Here is an example:</p>

<ul><li>Line 1: assigns our anonymous function to <code>BCLS</code>. This value can be anything you choose. In this example, we are using BCLS (Brightcove Learning Services).</li>
</ul><pre class="line-numbers">
<code class="language-javascript">var BCLS = (function( window1, undefined ) {
    var object1 = {};
    object1.count = 1;
    object1.method = function () {
        ...
    }
    <span class="bcls-highlight">return object1;</span>
})(window);</code></pre>

<p>The <code>object1</code> object is now available globally with two public properties, a variable named <code>count</code> and a function named <code>method</code>. They can be accessed outside of our anonymous function as:</p>

<ul><li><code>BCLS.object1.count</code></li>
	<li><code>BCLS.object1.method</code></li>
</ul></section><section class="bcls-section" id="Complete_example"><h2>Complete examples</h2>

<p>Here are some complete examples of the JavaScript Module Design Pattern.</p>

<h3>Example 1</h3>

<p>This example shows how to create private and public variables and functions using the Module Pattern.</p>

<ul><li>Private variables: <code>myvar</code>, <code>myvar2</code></li>
	<li>Private functions: <code>fname</code>, <code>fname2</code></li>
	<li>Public variable: <code>myvar3</code></li>
	<li>Public function: <code>fname3</code></li>
</ul><pre class="line-numbers">
<code class="language-javascript">var BCLS = ( function() {
   var myvar = value,
       myvar2 = value;

   fname = function() {
        ...
   };
   fname2 = function() {
        ...
   };

   return {
        fname3 : function() {
             ...
        },
        myvar3 = value;
   };
}());</code></pre>

<h3>Example 2</h3>

<p>This example passes in global objects and exposes a public function.</p>

<pre class="line-numbers">
<code class="language-javascript">var BCLS = (function( window, document, videojs ) {
    var myvar = value;

    // use a global object passed into the anonymous function
    videojs.registerPlugin('overlay');

    fname = function() {
        ...
    }
    return {
      fname2 : function() {
            ...
        }
    }
})(window, document, videojs);

// call the public function fname2
var newvar = BCLS.fname2();</code></pre>
</section><section class="bcls-section" id="Code_samples"><h2>Code samples</h2>

<p>Some of our code examples use the JavaScript Module Design Pattern, and you can review them for ideas on how to implement this pattern.</p>

<ul><li><a href="brightcove-player-sample-floating-player.html">Floating Player</a></li>
</ul></section></article></div>
      
</div>

</div>


<section class="views-element-container block block-views block-views-blockrelated-content-block-1 clearfix" id="block-views-block-related-content-block-1">
  
    

      <div class="form-group"><div class="view view-related-content view-id-related_content view-display-id-block_1 js-view-dom-id-3d1cacc349faa4926ef24006d908d533723611be23efb5080121ab8322c5e826">
  
    
      <div class="view-header">
      <h2>Related content</h2>
    </div>
      
      <div class="view-content">
      <div class="item-list">
  
  <ul>

          <li><div class="views-field views-field-title"><span class="field-content"><span class="content-type-support_doc"><a href="delivering-hls-video.html" hreflang="en">Delivering HLS Video</a></span></span></div></li>
          <li><div class="views-field views-field-title"><span class="field-content"><span class="content-type-support_doc"><a href="debugging-mobile-devices.html" hreflang="en">Debugging on Mobile Devices</a></span></span></div></li>
          <li><div class="views-field views-field-title"><span class="field-content"><span class="content-type-support_doc"><a href="date-converter.html" hreflang="en">Date Converter</a></span></span></div></li>
          <li><div class="views-field views-field-title"><span class="field-content"><span class="content-type-support_doc"><a href="concepts-using-javascript-promises.html" hreflang="en">Concepts: Using JavaScript Promises</a></span></span></div></li>
          <li><div class="views-field views-field-title"><span class="field-content"><span class="content-type-support_doc"><a href="brightcove-forum-groups-and-email-lists.html" hreflang="en">Brightcove Forum Groups and Email Lists</a></span></span></div></li>
          <li><div class="views-field views-field-title"><span class="field-content"><span class="content-type-support_doc"><a href="concepts-introducing-json.html" hreflang="en">Concepts: Introducing JSON</a></span></span></div></li>
          <li><div class="views-field views-field-title"><span class="field-content"><span class="content-type-support_doc"><a href="concepts-javascript-debugging-basics.html" hreflang="en">Concepts: JavaScript Debugging Basics</a></span></span></div></li>
          <li><div class="views-field views-field-title"><span class="field-content"><span class="content-type-support_doc"><a href="string-encoder.html" hreflang="en">String Encoder</a></span></span></div></li>
          <li><div class="views-field views-field-title"><span class="field-content"><span class="content-type-support_doc"><a href="concepts-cors.html" hreflang="en">Concepts: CORS</a></span></span></div></li>
          <li><div class="views-field views-field-title"><span class="field-content"><span class="content-type-support_doc"><a href="learning-guide-using-rest-apis.html" hreflang="en">Learning Guide: Using the REST APIs</a></span></span></div></li>
    
  </ul>

</div>

    </div>
  
          </div>
</div>

  </section>


  </div>

              </section>

                </div>
  </div>

      
  
  </div>

    
    <script type="application/json" data-drupal-selector="drupal-settings-json">{"path":{"baseUrl":"\/","scriptPath":null,"pathPrefix":"","currentPath":"node\/17917","currentPathIsAdmin":false,"isFront":false,"currentLanguage":"en"},"pluralDelimiter":"\u0003","google_analytics":{"trackOutbound":true,"trackMailto":true,"trackDownload":true,"trackDownloadExtensions":"7z|aac|arc|arj|asf|asx|avi|bin|csv|doc(x|m)?|dot(x|m)?|exe|flv|gif|gz|gzip|hqx|jar|jpe?g|js|mp(2|3|4|e?g)|mov(ie)?|msi|msp|pdf|phps|png|ppt(x|m)?|pot(x|m)?|pps(x|m)?|ppam|sld(x|m)?|thmx|qtm?|ra(m|r)?|sea|sit|tar|tgz|torrent|txt|wav|wma|wmv|wpd|xls(x|m|b)?|xlt(x|m)|xlam|xml|z|zip"},"bootstrap":{"forms_has_error_value_toggle":1,"modal_animation":1,"modal_backdrop":"true","modal_focus_input":1,"modal_keyboard":1,"modal_select_text":1,"modal_show":1,"modal_size":"","popover_enabled":1,"popover_animation":1,"popover_auto_close":1,"popover_container":"body","popover_content":"","popover_delay":"0","popover_html":0,"popover_placement":"right","popover_selector":"","popover_title":"","popover_trigger":"click"},"ajaxTrustedUrl":{"form_action_p_pvdeGsVG5zNF_XLGPTvYSKCf43t8qZYSwcfZl2uzM":true},"user":{"uid":0,"permissionsHash":"3b7fdb4927baca3ee2939edeb777485b3e2c2d36cf8c80e0d8f49c6dc5e2eeca"}}</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

  <script type="text/javascript">window.NREUM||(NREUM={});NREUM.info={"beacon":"bam.nr-data.net","licenseKey":"e78a80aa93","applicationID":"129613202","transactionName":"YwBUZkcFVktUWhJQX1pKd1FBDVdWGkkHXlVrBldRXQE=","queueTime":0,"applicationTime":13,"atts":"T0dXEA8fRUU=","errorBeacon":"bam.nr-data.net","agent":""}</script></body>
</html>
