<!DOCTYPE html>
<html  lang="en" dir="ltr">
  <head>
    <meta charset="utf-8" />
<script>(function(i,s,o,g,r,a,m){i["GoogleAnalyticsObject"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,"script","https://www.google-analytics.com/analytics.js","ga");ga("create", "UA-2728311-17", {"cookieDomain":"auto"});ga("set", "anonymizeIp", true);ga("send", "pageview");</script>
<meta name="Generator" content="Drupal 8 (https://www.drupal.org)" />
<meta name="MobileOptimized" content="width" />
<meta name="HandheldFriendly" content="true" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link rel="shortcut icon" href="sites/default/files/favicon-64.png" type="image/png" />
<link rel="alternate" hreflang="en" href="ad-events-and-ad-objects.html" />
<link rel="canonical" href="ad-events-and-ad-objects.html" />
<link rel="shortlink" href="ad-events-and-ad-objects.html" />
<link rel="revision" href="ad-events-and-ad-objects.html" />

    <title>Ad Events and Ad Objects | Brightcove Learning</title>
    <link rel="stylesheet" media="all" href="sites/default/files/css/css_d7PoQ20hWbRiei75VgExP_tm8C1ylIRfzB3zIYLc5Cw_q23msc.css" />
<link rel="stylesheet" media="all" href="https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/css/bootstrap.min.css" />
<link rel="stylesheet" media="all" href="https://cdn.jsdelivr.net/npm/@unicorn-fail/drupal-bootstrap-styles@0.0.2/dist/3.4.0/8.x-3.x/drupal-bootstrap.min.css" />


    
<!--[if lte IE 8]>
<script src="/sites/default/files/js/js_VtafjXmRvoUgAzqzYTA3Wrjkx9wcWhjP0G4ZnnqRamA.js"></script>
<![endif]-->

    <meta name="uri-translation" content="on" />
    <script>
window['_fs_debug'] = false; window['_fs_host'] = 'fullstory.com';
window['_fs_org'] = 'BX3Q1';
window['_fs_namespace'] = 'FS';
(function(m,n,e,t,l,o,g,y){
if (e in m) {if(m.console && m.console.log) { m.console.log('FullStory namespace conflict. Please set window["_fs_namespace"].');} return;}
g=m[e]=function(a,b){g.q?g.q.push([a,b]):g._api(a,b);};g.q=[];
o=n.createElement(t);o.async=1;o.src='https://'+_fs_host+'/s/fs.js';
y=n.getElementsByTagName(t)[0];y.parentNode.insertBefore(o,y);
g.identify=function(i,v){g(l,{uid:i});if(v)g(l,v)};g.setUserVars=function(v){g(l,v)};
g.shutdown=function(){g("rec",!1)};g.restart=function(){g("rec",!0)};
g.consent=function(a){g("consent",!arguments.length||a)};
g.identifyAccount=function(i,v){o='account';v=v||{};v.acctId=i;g(o,v)};
g.clearUserCookie=function(){};
})(window,document,window['_fs_namespace'],'script','user');
    </script>
  </head>
  <body class="path-node page-node-type-support-doc has-glyphicons">


<section id="block-gtranslate" class="block block-gtranslate block-gtranslate-block clearfix">
  
    

      



  </section>


  </div>

      </div>
      

                    <div class="navbar-collapse collapse">
            <div class="region region-navigation-collapsible">
    

  </div>

        </div>
          </header>
  
    <div class="full-width-headline">
    <div class="container">
      <div class="row">
        <div class="col-sm-12" role="heading">
            <div class="region region-header">
          <section id="block-brightcoveheadlineblock" class="block block-bc-general block-bc-general-headline-block clearfix">
  
    

      Documentation
  </section>


  </div>

        </div>
      </div>
    </div>
  </div>
  
      <div role="main" class="main-container container  js-quickedit-main-content">
    <div class="row">

                              <aside class="col-sm-3" role="complementary">
              <div class="region region-sidebar-first">
    <section class="bc-search-fixes-search-block-form block block-bc-search-fixes block-bc-search-fixes-search-block clearfix" data-drupal-selector="bc-search-fixes-search-block-form" id="block-brightcovesearchblock">
  
    

      <form action="ad-events-and-ad-objects.html" method="post" id="bc-search-fixes-search-block-form" accept-charset="UTF-8">
  <div class="form-item js-form-item form-type-textfield js-form-type-textfield form-item-search js-form-item-search form-no-label form-group">
      <label for="edit-search" class="control-label sr-only">Search</label>
  
  
  <input data-drupal-selector="edit-search" class="form-text form-control" type="text" id="edit-search" name="search" value="" size="15" maxlength="128" placeholder="Search" />

  
  
  </div>
<input autocomplete="off" data-drupal-selector="form-l1-vafwbqro7cqcwab11w77ty-qsboutg31czq5fby" type="hidden" name="form_build_id" value="form-L1__vAfwBqRo7CqCwab11W77tY-QsbouTG31czq5fbY" /><input data-drupal-selector="edit-bc-search-fixes-search-block-form" type="hidden" name="form_id" value="bc_search_fixes_search_block_form" /><div data-drupal-selector="edit-actions" class="form-actions form-group js-form-wrapper form-wrapper" id="edit-actions"><button data-drupal-selector="edit-submit" class="button js-form-submit form-submit btn-primary btn icon-only" type="submit" id="edit-submit" name="op" value="Search"><span class="sr-only">Search</span><span class="icon glyphicon glyphicon-search" aria-hidden="true"></span></button></div>

</form>

  </section>

<section id="block-inpagenavigationblock" class="hidden-xs block block-bc-ipnav block-bc-ipnav-block clearfix">
  
      <h2 class="block-title">On This Page</h2>
    

      <div class="bc-ipnav-block"></div>
  </section>


  </div>

          </aside>
              
                  <section class="col-sm-9">

                                      <div class="highlighted">  <div class="region region-highlighted">
    <div data-drupal-messages-fallback class="hidden"></div>

  </div>
</div>
                  
                
                
                
                          <a id="main-content"></a>
            <div class="region region-content">
        <h1 class="page-header"><span>Ad Events and Ad Objects</span>
</h1>

  
<div class="node node--type-support-doc node--view-mode-full bcdocs-four-rows clearfix">

  

  <div class="group-first-row">
      </div>

  <div class="group-second-row">
  
  <div class="field field--name-field-products field--type-entity-reference field--label-visually_hidden">
    <div class="field--label sr-only">Product(s)</div>
          <div class="field__items taxonomy__tags">
        <svg class="icon--product" viewBox="0 0 100 100">
          <use xlink:href="//support.brightcove.com/themes/custom/bcdocs/images/icons.svg#icon--product"></use>
        </svg>
              <div class="field--item">Video Cloud</div>
          <div class="field--item">Brightcove Player</div>
              </div>
      </div>

  <div class="field field--name-field-roles field--type-entity-reference field--label-visually_hidden">
    <div class="field--label sr-only">Role(s)</div>
          <div class="field__items taxonomy__tags">
        <svg class="icon--roles" viewBox="0 0 100 100">
          <use xlink:href="//support.brightcove.com/themes/custom/bcdocs/images/icons.svg#icon--roles"></use>
        </svg>
              <div class="field--item">Player Developer</div>
              </div>
      </div>

</div>

  
<div class="group-third-row taxonomy__tags">
      <svg class="icon--label" viewBox="0 0 100 100">
      <use xlink:href="//support.brightcove.com/themes/custom/bcdocs/images/icons.svg#icon--label"></use>
    </svg>
    
  <div class="field field--name-field-topics field--type-entity-reference field--label-visually_hidden">
    <div class="field--label sr-only">Topic(s)</div>
          <div class="field--items">
              <div class="field--item">Advertising</div>
          <div class="field--item">Events</div>
              </div>
      </div>

</div>

  <div class="group-fourth-row">
  
            <div class="field field--name-field-support-doc-body field--type-text-with-summary field--label-hidden field--item"><!-- Place document intro sentence(s) here --><p>This document explains and demonstrates the use of a common set of ad events and ad objects implemented in the <em>videojs-contrib-ads</em> plugin.</p>
            <article class="bcls-article">
<section id="Overview" class="bcls-section">
<h2>Overview</h2>

<p>The <em>videojs-contrib-ads</em>, located in the <a href="https://github.com/videojs/videojs-contrib-ads">videojs/videojs-contrib-ads</a> GitHub repository, provides common functionality needed by video advertisement libraries and video ad integrations, reducing the code you have to write for your specific ad integration.</p>

<p>These events and objects are implemented in the Brightcove supplied FreeWheel and IMA3 plugins. These same events and objects are implemented in the SSAI plugins, except for the following:</p>

<ul>
	<li><code>player.ads.pod</code> interface</li>
	<li><code>player.ads.provider</code> object</li>
</ul>
</section>

<section id="events" class="bcls-section">
<h2>Ad events</h2>

<p>Each ad provider can emit a unique set of events. Typically, these events are used to track the state of ad playback for metrics purposes and to create custom UI's. It is suggested to implement the following events to encourage uniformity, and allow custom UIs and analytics providers to remain ad provider agnostic.</p>

<table class="bcls-table">
	<thead class="bcls-table__head">
		<tr>
			<th style="width:30%">Event</th>
			<th style="width:70%">Dispatched when:</th>
		</tr>
	</thead>
	<tbody class="bcls-table__body">
		<tr>
			<td><code class="notranslate">ads-request</code></td>
			<td>Ad data is requested</td>
		</tr>
		<tr>
			<td><code class="notranslate">ads-load</code></td>
			<td>Ad data is available following an ad request</td>
		</tr>
		<tr>
			<td><code class="notranslate">ads-pod-started</code></td>
			<td>A linear ad pod has started</td>
		</tr>
		<tr>
			<td><code class="notranslate">ads-pod-ended</code></td>
			<td>A linear ad pod has completed</td>
		</tr>
		<tr>
			<td><code class="notranslate">ads-allpods-completed</code></td>
			<td>All linear ads are completed</td>
		</tr>
		<tr>
			<td><code class="notranslate">ads-ad-started</code></td>
			<td>Ad starts playing</td>
		</tr>
		<tr>
			<td><code class="notranslate">ads-ad-ended</code></td>
			<td>Ad completes playing</td>
		</tr>
		<tr>
			<td><code class="notranslate">ads-first-quartile</code></td>
			<td>Ad playhead crosses the first quartile</td>
		</tr>
		<tr>
			<td><code class="notranslate">ads-midpoint</code></td>
			<td>Ad playhead crosses the midpoint</td>
		</tr>
		<tr>
			<td><code class="notranslate">ads-third-quartile</code></td>
			<td>Ad playhead crosses the third quartile</td>
		</tr>
		<tr>
			<td><code class="notranslate">ads-pause</code></td>
			<td>Ad is paused</td>
		</tr>
		<tr>
			<td><code class="notranslate">ads-play</code></td>
			<td>Ad is resumed</td>
		</tr>
		<tr>
			<td><code class="notranslate">ads-volumechange</code></td>
			<td>Ad volume has been changed</td>
		</tr>
		<tr>
			<td><code class="notranslate">ads-click</code></td>
			<td>Ad is clicked</td>
		</tr>
	</tbody>
</table>

<p>These events can be listened for from the player object. Below is the code to listen for the <code class="notranslate">ads-ad-started</code> object, as well as a screenshot of what the object passed to the event handler looks like.</p>

<pre class="line-numbers">
<code class="language-javascript notranslate">videojs.getPlayer('myPlayerID').on('loadedmetadata',function(){
  var myPlayer = this;
  ...
  <span class="bcls-highlight">myPlayer.on('ads-ad-started',function( evt ){</span>
    console.log('ads-ad-started event passed to event handler', evt);
  });</code></pre>

<figure class="bcls-figure"><img class="bcls-image" alt="ad event object" src="https://learning-services-media.brightcove.com/doc-assets/player-development/advertising/ad-events/event-object.png" /></figure>
</section>

<section id="adobjects" class="bcls-section">
<h2>Ad objects</h2>

<p>As you see, the event object passed to the event handler is not terribly informative. For this reason, there are two objects you can leverage from which you can gather more ad information, they are <strong class="notranslate">player.ads.ad</strong> and <strong class="notranslate">player.ads.pod</strong>.</p>

<aside class="bcls-aside bcls-aside--information">
<p class="language-editable">Note: If you are not familiar with the term <code class="notranslate">ad pod</code>, it is a sequence of linear ads that are played back to back. Commercial breaks on TV are examples of pods. Pods are commonly used in long form videos to create a TV like ad experience.</p>
</aside>

<p>From the screenshot below, you see the <strong class="notranslate">player.ads.ad</strong> object contains information on the ad <code class="notranslate">type</code> and <code class="notranslate">duration</code> of ad, among other details.</p>

<figure class="bcls-figure"><img class="bcls-image" alt="player ads" src="https://learning-services-media.brightcove.com/doc-assets/player-development/advertising/ad-events/player-ads-ad-object.png" /></figure>

<p>The <strong class="notranslate">player.ads.pod</strong> object contains similar information to <strong>player.ads.ad</strong>, with the addition of the number of ads in the pod. The first screenshot below shows an ad pod with a single ad, whereas the second shows a pod with three ads.</p>

<figure class="bcls-figure"><img class="bcls-image" alt="ads pod object" src="https://learning-services-media.brightcove.com/doc-assets/player-development/advertising/ad-events/player-ads-pod-object.png" /></figure>

<figure class="bcls-figure"><img class="bcls-image" alt="multiple ads pod" src="https://learning-services-media.brightcove.com/doc-assets/player-development/advertising/ad-events/ad-pod-multiple-ads.png" /></figure>

<aside class="bcls-aside bcls-aside--information">
<p>Object notes:</p>

<ul>
	<li>
	<p class="language-editable">Everything but <code class="notranslate">player.ads.provider.type</code> is undefined during content-playback.</p>
	</li>
	<li>
	<p class="language-editable">The type of ad should be one of <code class="notranslate">PREROLL</code>, <code class="notranslate">MIDROLL</code> or <code class="notranslate">POSTROLL</code></p>
	</li>
</ul>
</aside>
</section>

<section class="bcls-section">
<h2 id="Googles_AdsManager">Google's AdsManager</h2>

<p>There are methods and properties available from Google's <a href="https://developers.google.com/interactive-media-ads/docs/sdks/html5/v3/apis#ima.AdsManager">google.ima.AdsManager</a> Interface. You can use the interface's properties/methods that retrieve information. It is not advised to use the methods that perform actions, like <code class="notranslate">destroy </code>, <code class="notranslate">setAutoPlayAdBreaks </code> and <code class="notranslate">stop </code>. For example, one method you can use is shown here:</p>

<h3>AdsManager.getRemainingTime</h3>

<p>Type: <code class="notranslate">google.ima.AdsManager.getRemainingTime </code></p>

<p>Usage: <code class="notranslate">myPlayer.ima3.adsManager.getRemainingTime() </code></p>

<p>Calling this method returns the amount of time remaining for the current ad. If an ad isn't available or has finished playing, it returns -1. For more information see Google's <a href="https://developers.google.com/interactive-media-ads/docs/sdks/html5/v3/apis#ima.AdsManager.getRemainingTime">document</a> on the method.</p>
</section>
</article>
</div>
      
</div>

</div>


<section class="views-element-container block block-views block-views-blockrelated-content-by-field-block-1 clearfix" id="block-views-block-related-content-by-field-block-1">
  
    

      <div class="form-group"><div class="view view-related-content-by-field view-id-related_content_by_field view-display-id-block_1 js-view-dom-id-4bb3353277917dc2fa100ed4efb87e05d3ab64dee53ce3bb85f6158f7ef320f3">
  
    
      <div class="view-header">
      <h2>Related content</h2>
    </div>
      
      <div class="view-content">
      <div class="item-list">
  
  <ul>

          <li><div class="views-field views-field-title"><span class="field-content"><span class="content-type-support_doc"><a href="learning-guide-video-advertising.html" hreflang="en">Learning Guide: Video Advertising</a></span></span></div></li>
          <li><div class="views-field views-field-title"><span class="field-content"><span class="content-type-support_doc"><a href="player-events.html" hreflang="en">Player Events</a></span></span></div></li>
          <li><div class="views-field views-field-title"><span class="field-content"><span class="content-type-support_doc"><a href="advertising-ima3-plugin.html" hreflang="en">Advertising with the IMA3 Plugin</a></span></span></div></li>
          <li><div class="views-field views-field-title"><span class="field-content"><span class="content-type-support_doc"><a href="advertising-freewheel-plugin.html" hreflang="en">Advertising with the FreeWheel Plugin</a></span></span></div></li>
    
  </ul>

</div>

    </div>
  
          </div>
</div>

  </section>


  </div>

              </section>

                </div>
  </div>

      
  
  </div>

    
    <script type="application/json" data-drupal-selector="drupal-settings-json">{"path":{"baseUrl":"\/","scriptPath":null,"pathPrefix":"","currentPath":"node\/18072","currentPathIsAdmin":false,"isFront":false,"currentLanguage":"en"},"pluralDelimiter":"\u0003","google_analytics":{"trackOutbound":true,"trackMailto":true,"trackDownload":true,"trackDownloadExtensions":"7z|aac|arc|arj|asf|asx|avi|bin|csv|doc(x|m)?|dot(x|m)?|exe|flv|gif|gz|gzip|hqx|jar|jpe?g|js|mp(2|3|4|e?g)|mov(ie)?|msi|msp|pdf|phps|png|ppt(x|m)?|pot(x|m)?|pps(x|m)?|ppam|sld(x|m)?|thmx|qtm?|ra(m|r)?|sea|sit|tar|tgz|torrent|txt|wav|wma|wmv|wpd|xls(x|m|b)?|xlt(x|m)|xlam|xml|z|zip"},"bootstrap":{"forms_has_error_value_toggle":1,"modal_animation":1,"modal_backdrop":"true","modal_focus_input":1,"modal_keyboard":1,"modal_select_text":1,"modal_show":1,"modal_size":"","popover_enabled":1,"popover_animation":1,"popover_auto_close":1,"popover_container":"body","popover_content":"","popover_delay":"0","popover_html":0,"popover_placement":"right","popover_selector":"","popover_title":"","popover_trigger":"click"},"ajaxTrustedUrl":{"form_action_p_pvdeGsVG5zNF_XLGPTvYSKCf43t8qZYSwcfZl2uzM":true},"user":{"uid":0,"permissionsHash":"3b7fdb4927baca3ee2939edeb777485b3e2c2d36cf8c80e0d8f49c6dc5e2eeca"}}</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

  <script type="text/javascript">window.NREUM||(NREUM={});NREUM.info={"beacon":"bam.nr-data.net","licenseKey":"e78a80aa93","applicationID":"129613202","transactionName":"YwBUZkcFVktUWhJQX1pKd1FBDVdWGn0UTEBVCWpxWhZdZHNWFFRscgpEX3cRUVRRXBQUDkYAWFZQFmhUVFoDUV9YAVNAcwtKVXRaElBfWg==","queueTime":0,"applicationTime":284,"atts":"T0dXEA8fRUU=","errorBeacon":"bam.nr-data.net","agent":""}</script></body>
</html>
