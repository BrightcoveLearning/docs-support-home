<!DOCTYPE html>
<html  lang="en" dir="ltr">
  <head>
    <meta charset="utf-8" />
<script>(function(i,s,o,g,r,a,m){i["GoogleAnalyticsObject"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,"script","https://www.google-analytics.com/analytics.js","ga");ga("create", "UA-2728311-17", {"cookieDomain":"auto"});ga("set", "anonymizeIp", true);ga("send", "pageview");</script>
<meta name="Generator" content="Drupal 8 (https://www.drupal.org)" />
<meta name="MobileOptimized" content="width" />
<meta name="HandheldFriendly" content="true" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link rel="shortcut icon" href="sites/default/files/favicon-64.png" type="image/png" />
<link rel="alternate" hreflang="en" href="zencoder-hdr10-video-output.html" />
<link rel="canonical" href="zencoder-hdr10-video-output.html" />
<link rel="shortlink" href="zencoder-hdr10-video-output.html" />
<link rel="revision" href="zencoder-hdr10-video-output.html" />

    <title>Zencoder HDR10 Video Output | Brightcove Learning</title>
    <link rel="stylesheet" media="all" href="sites/default/files/css/css_d7PoQ20hWbRiei75VgExP_tm8C1ylIRfzB3zIYLc5Cw_q23msc.css" />
<link rel="stylesheet" media="all" href="https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/css/bootstrap.min.css" />
<link rel="stylesheet" media="all" href="https://cdn.jsdelivr.net/npm/@unicorn-fail/drupal-bootstrap-styles@0.0.2/dist/3.4.0/8.x-3.x/drupal-bootstrap.min.css" />


    
<!--[if lte IE 8]>
<script src="/sites/default/files/js/js_VtafjXmRvoUgAzqzYTA3Wrjkx9wcWhjP0G4ZnnqRamA.js"></script>
<![endif]-->

    <meta name="uri-translation" content="on" />
    <script>
window['_fs_debug'] = false; window['_fs_host'] = 'fullstory.com';
window['_fs_org'] = 'BX3Q1';
window['_fs_namespace'] = 'FS';
(function(m,n,e,t,l,o,g,y){
if (e in m) {if(m.console && m.console.log) { m.console.log('FullStory namespace conflict. Please set window["_fs_namespace"].');} return;}
g=m[e]=function(a,b){g.q?g.q.push([a,b]):g._api(a,b);};g.q=[];
o=n.createElement(t);o.async=1;o.src='https://'+_fs_host+'/s/fs.js';
y=n.getElementsByTagName(t)[0];y.parentNode.insertBefore(o,y);
g.identify=function(i,v){g(l,{uid:i});if(v)g(l,v)};g.setUserVars=function(v){g(l,v)};
g.shutdown=function(){g("rec",!1)};g.restart=function(){g("rec",!0)};
g.consent=function(a){g("consent",!arguments.length||a)};
g.identifyAccount=function(i,v){o='account';v=v||{};v.acctId=i;g(o,v)};
g.clearUserCookie=function(){};
})(window,document,window['_fs_namespace'],'script','user');
    </script>
  </head>
  <body class="path-node page-node-type-support-doc has-glyphicons">


<section id="block-gtranslate" class="block block-gtranslate block-gtranslate-block clearfix">
  
    

      



  </section>


  </div>

      </div>
      

                    <div class="navbar-collapse collapse">
            <div class="region region-navigation-collapsible">
    

  </div>

        </div>
          </header>
  
    <div class="full-width-headline">
    <div class="container">
      <div class="row">
        <div class="col-sm-12" role="heading">
            <div class="region region-header">
          <section id="block-brightcoveheadlineblock" class="block block-bc-general block-bc-general-headline-block clearfix">
  
    

      Documentation
  </section>


  </div>

        </div>
      </div>
    </div>
  </div>
  
      <div role="main" class="main-container container  js-quickedit-main-content">
    <div class="row">

                              <aside class="col-sm-3" role="complementary">
              <div class="region region-sidebar-first">
    <section class="bc-search-fixes-search-block-form block block-bc-search-fixes block-bc-search-fixes-search-block clearfix" data-drupal-selector="bc-search-fixes-search-block-form" id="block-brightcovesearchblock">
  
    

      <form action="zencoder-hdr10-video-output.html" method="post" id="bc-search-fixes-search-block-form" accept-charset="UTF-8">
  <div class="form-item js-form-item form-type-textfield js-form-type-textfield form-item-search js-form-item-search form-no-label form-group">
      <label for="edit-search" class="control-label sr-only">Search</label>
  
  
  <input data-drupal-selector="edit-search" class="form-text form-control" type="text" id="edit-search" name="search" value="" size="15" maxlength="128" placeholder="Search" />

  
  
  </div>
<input autocomplete="off" data-drupal-selector="form-g8knknekbhy-i19ep1w8-wk8qh2chp3if2qxaocaibe" type="hidden" name="form_build_id" value="form-g8KnknekBHy_I19Ep1W8-wk8qH2CHP3IF2QXaocaIBE" /><input data-drupal-selector="edit-bc-search-fixes-search-block-form" type="hidden" name="form_id" value="bc_search_fixes_search_block_form" /><div data-drupal-selector="edit-actions" class="form-actions form-group js-form-wrapper form-wrapper" id="edit-actions"><button data-drupal-selector="edit-submit" class="button js-form-submit form-submit btn-primary btn icon-only" type="submit" id="edit-submit" name="op" value="Search"><span class="sr-only">Search</span><span class="icon glyphicon glyphicon-search" aria-hidden="true"></span></button></div>

</form>

  </section>

<section id="block-inpagenavigationblock" class="hidden-xs block block-bc-ipnav block-bc-ipnav-block clearfix">
  
      <h2 class="block-title">On This Page</h2>
    

      <div class="bc-ipnav-block"></div>
  </section>


  </div>

          </aside>
              
                  <section class="col-sm-9">

                                      <div class="highlighted">  <div class="region region-highlighted">
    <div data-drupal-messages-fallback class="hidden"></div>

  </div>
</div>
                  
                
                
                
                          <a id="main-content"></a>
            <div class="region region-content">
        <h1 class="page-header"><span>Zencoder HDR10 Video Output</span>
</h1>

  
<div class="node node--type-support-doc node--view-mode-full bcdocs-four-rows clearfix">

  

  <div class="group-first-row">
      </div>

  <div class="group-second-row">
  
  <div class="field field--name-field-products field--type-entity-reference field--label-visually_hidden">
    <div class="field--label sr-only">Product(s)</div>
          <div class="field__items taxonomy__tags">
        <svg class="icon--product" viewBox="0 0 100 100">
          <use xlink:href="//support.brightcove.com/themes/custom/bcdocs/images/icons.svg#icon--product"></use>
        </svg>
              <div class="field--item">Zencoder</div>
              </div>
      </div>

  <div class="field field--name-field-roles field--type-entity-reference field--label-visually_hidden">
    <div class="field--label sr-only">Role(s)</div>
          <div class="field__items taxonomy__tags">
        <svg class="icon--roles" viewBox="0 0 100 100">
          <use xlink:href="//support.brightcove.com/themes/custom/bcdocs/images/icons.svg#icon--roles"></use>
        </svg>
              <div class="field--item">API Developer</div>
              </div>
      </div>

</div>

  
<div class="group-third-row taxonomy__tags">
      <svg class="icon--label" viewBox="0 0 100 100">
      <use xlink:href="//support.brightcove.com/themes/custom/bcdocs/images/icons.svg#icon--label"></use>
    </svg>
    
  <div class="field field--name-field-apis field--type-entity-reference field--label-visually_hidden">
    <div class="field--label sr-only">API(s)</div>
          <div class="field--items">
              <div class="field--item">Zencoder API</div>
              </div>
      </div>

</div>

  <div class="group-fourth-row">
  
            <div class="field field--name-field-support-doc-body field--type-text-with-summary field--label-hidden field--item"><p>This topic provides details for Zencoder support of high-dynamic-range (HDR) video.</p><article class="bcls-article"><section class="bcls-section"><aside class="bcls-aside bcls-aside--warning language-editable"><strong>Zencoder documentation has moved to provide you a more focused site. The new location is <a href="https://zencoder.support.brightcove.com">https://zencoder.support.brightcove.com</a>. Please use the new site and update your bookmarks! These old docs will be removed soon.</strong></aside><h2 id="Introduction">Introduction</h2>

<p>Zencoder supports high-dynamic-range (HDR) video, initially adding options to produce HDR10 outputs from HDR color-graded masters.</p>

<p>Other HDR formats such as PQ10, HLG, and Dolby Vision are not currently supported.</p>

<p>HDR10 is commonly defined as video using the ITU-R Rec (see <a href="https://docs.google.com/document/d/1MNORJGjXj-_rjy-wkJ4SXOzvq3u8HzN4iYsEo05IsYM/edit?ts=5ac223b9#heading=h.waqfatkuoxxo">this document</a> for more details). BT.2020 color space, SMPTE ST-2084 or <span class="”notranslate”">Perceptual Quantizer (PQ) Opto-Electronic Transfer Function</span> (OETF), along with SMPTE ST-2086 mastering display color metadata and CEA 861.3 content light level metadata. HDR10 streams are most commonly encoded using H.265/HEVC codec, operating in Main10 profile, and carrying all these metadata within elementary streams.</p>

<p>If you plan to target Apple devices with HDR content, the <a href="https://developer.apple.com/library/content/documentation/General/Reference/HLSAuthoringSpec/Requirements.html">HLS Authoring Specification for Apple Devices</a> document contains useful guidance.</p>
</section><section class="bcls-section"><h2 id="requirements">Requirements</h2>

<p>You must meet the following requirements to produce HDR10 outputs using Zencoder.</p>

<ul><li>Source files must already be color-graded and in the Rec. 2020 color space.</li>
	<li>Ideally, the source files will be high-quality masters or mezzanines using intra-frame codecs. Formats such as Apple ProRes 4444, Avid DNxHD, and JPEG 2000 (J2K) in OP1a MXF are examples of supported mastering formats. Source file video bit depths should be 10-bit or 12-bit.</li>
	<li>For 4K source files, the target resolution should be DCI 4K (4096x2160), UHD-1 (3840x2160), or 1080p HD (1920x1080), with a frame rate of 23.976, 24, 25, 29.97, 30, 50, 59.94, 60, 100, or 120 fps. For optimal results, source file video should not be interlaced.</li>
	<li>Mastering display metadata must be provided as described <a href="#api_options">below</a>.</li>
	<li>While Zencoder will attempt to convert most video formats to HDR10 when mastering display metadata is provided, it does not convert from SDR to HDR, or from HDR to SDR. For example, if a Rec. 709 SDR source file is used to create an HDR10 output, it will appear darker than expected.</li>
</ul></section><section class="bcls-section"><h2 id="api_options">API options</h2>

<p>There are two ways to communicate HDR10 output settings to Zencoder:</p>

<ol><li>If all the requirerd HDR10 metadata is in the source video, set <code>preserve_hdr_metadata</code> to <code>true</code>. The HDR10 metadata will be passed through to the encoder, and you will not need to include <code>master_display</code> and <code>light_level</code> settings.</li>
	<li>You can also specify the <code>master_display</code> and <code>light_level</code> settings in the request body, as detailed below.</li>
</ol><p>There are a number of options that are new or otherwise relevant to creating HDR10 outputs. The most important are those related to the SMPTE ST-2086 mastering display color volume, white point, and luminance.</p>

<aside class="bcls-aside bcls-aside--information">Note that Zencoder will enable HDR encoding when master_display options are specified for an output.</aside><section class="bcls-subsection"><h3>Color volume and white point settings</h3>

<p>The following options are specified in <span class="”notranslate”">CIE 1931 x/y chromaticity units</span>, as floating point values:</p>

<ul><li><code><a href="zencoder-encoding-settings-hdr10.html#master_display">master_display</a></code>

	<ul><li><code><a href="zencoder-encoding-settings-hdr10.html#master_display_red">red</a></code>

		<ul><li><code><a href="zencoder-encoding-settings-hdr10.html#master_display_red_x">x</a></code></li>
			<li><code><a href="zencoder-encoding-settings-hdr10.html#master_display_red_y">y</a></code></li>
		</ul></li>
		<li><code><a href="zencoder-encoding-settings-hdr10.html#master_display_green">green</a></code>
		<ul><li><code><a href="zencoder-encoding-settings-hdr10.html#master_display_green_x">x</a></code></li>
			<li><code><a href="zencoder-encoding-settings-hdr10.html#master_display_green_x">y</a></code></li>
		</ul></li>
		<li><code><a href="zencoder-encoding-settings-hdr10.html#master_display_blue">blue</a></code>
		<ul><li><code><a href="zencoder-encoding-settings-hdr10.html#master_display_blue_x">x</a></code></li>
			<li><code><a href="zencoder-encoding-settings-hdr10.html#master_display_blue_x">y</a></code></li>
		</ul></li>
		<li><code><a href="zencoder-encoding-settings-hdr10.html#master_display_white_point">white_point</a></code>
		<ul><li><code><a href="zencoder-encoding-settings-hdr10.html#master_display_white_point_x">x</a></code></li>
			<li><code><a href="zencoder-encoding-settings-hdr10.html#master_display_white_point_x">y</a></code></li>
		</ul></li>
	</ul></li>
</ul><p>The x coordinates shall be in the range <code>[0.0001-0.7400]</code> and the y coordinates shall be in the range <code>[0.0001-0.8400]</code>.</p>
</section><section class="bcls-subsection"><h3>Luminance</h3>

<p>The following options are specified in <code>nits</code> or <span class="”notranslate”">candelas per square meter (cd/m2)</span> as floating point values:</p>

<ul><li><code><a href="zencoder-encoding-settings-hdr10.html#master_display">master_display</a></code>

	<ul><li><code><a href="zencoder-encoding-settings-hdr10.html#master_display_luminance">luminance</a></code>

		<ul><li><code><a href="zencoder-encoding-settings-hdr10.html#master_display_luminance_min">min</a></code></li>
			<li><code><a href="zencoder-encoding-settings-hdr10.html#master_display_luminance_max">max</a></code></li>
		</ul></li>
	</ul></li>
</ul><p>The <code>master_display:luminance:max</code> value should be in the range <code>[5.0-10000.0]</code>, and <code>master_display:luminance:min</code> value should be in the range <code>[0.0001-5.0]</code>.</p>
</section><section class="bcls-subsection"><h3>Light level</h3>

<p>Light level metadata is also specified in <code>nits</code>, though as integers rather than floats. These parameters are defined in CEA 861.3, as well as ITU-T Rec. H.265, Annex 3.35.</p>

<ul><li><code><a href="zencoder-encoding-settings-hdr10.html#max_content_light_level">max_content_light_level</a></code></li>
	<li><code><a href="zencoder-encoding-settings-hdr10.html#max_frame_average_light_level">max_frame_average_light_level</a></code></li>
</ul><p>The <code>max_content_light_level</code> and <code>max_frame_average_light_level</code> value should be in the range <code>[0-10000]</code>. Values of <code>max_frame_average_light_level</code> around 100 generally produce the best results, however.</p>
</section><section class="bcls-subsection"><h3>Other output settings with specific values/ranges for HDR</h3>

<p>There are some other general video output settings that must specific values or a specific range of values for HDR10.</p>

<table class="bcls-table"><caption class="bcls-caption--table">Video Settings for HDR10</caption>
	<thead class="bcls-table__head"><tr><th>Setting</th>
			<th>Value(s) for HDR10</th>
		</tr></thead><tbody class="bcls-table__body"><tr><td><code>video_codec</code></td>
			<td><code>hevc</code></td>
		</tr><tr><td><code>video_codec_profile</code></td>
			<td><code>main10</code></td>
		</tr><tr><td><code>video_codec_level</code></td>
			<td>up to <code>5.1</code></td>
		</tr><tr><td><code>video_codec_tier</code></td>
			<td><code>high</code></td>
		</tr><tr><td><code>video_bit_depth</code></td>
			<td>automatically set to <code>10</code> by using the profile <code>main10</code></td>
		</tr></tbody></table></section><section class="bcls-subsection"><h4>Notes</h4>

<ol><li>Transmuxing HEVC source files (including HDR10) is currently not supported and will result in an error.
	<ol><li>HLS and DASH outputs need separate encodes.</li>
	</ol></li>
	<li>If a source file is HDR and <code>master_display</code> options are not provided, Zencoder will treat the source file as SDR, so the output coloring may not be accurate.</li>
	<li>For segmented outputs, include these settings in <strong>each</strong> of the video outputs.
	<ul><li>DASH: <a href="zencoder-dash-streaming-and-playlists.html">DASH Streaming and Playlists</a></li>
		<li>HLS: <a href="zencoder-http-live-streaming-using-fragmented-mp4.html">HTTP Live Streaming using fragmented MP4</a></li>
	</ul></li>
</ol></section></section><section class="bcls-section"><h2 id="Sample_request">Sample request</h2>

<p>Below is a sample request for an HDR10 output:</p>

<pre class="line-numbers">
<code class="language-json">{
  "input": "s3://mybucket/hdr_master.mov",
  "outputs": [
    {
      "video_codec": "hevc",
      "video_bit_depth": 10,
      "master_display": {
        "red": {
          "x": 0.708,
          "y": 0.292
        },
        "green": {
          "x": 0.17,
          "y": 0.797
        },
        "blue": {
          "x": 0.131,
          "y": 0.046
        },
        "white_point": {
          "x": 0.31273,
          "y": 0.329
        },
        "luminance": {
          "max": 1000,
          "min": 0.0001
        }
      },
      "max_content_light_level": 1000,
      "max_frame_average_light_level": 180
    }
  ]
}
</code></pre>
</section></article></div>
      
</div>

</div>


<section class="views-element-container block block-views block-views-blockrelated-content-by-field-block-1 clearfix" id="block-views-block-related-content-by-field-block-1">
  
    

      <div class="form-group"><div class="view view-related-content-by-field view-id-related_content_by_field view-display-id-block_1 js-view-dom-id-2ca8b518a79fd62cd076f951d16ab40c294506c0cbb3e7f1fcdef3f9ab28497a">
  
    
      <div class="view-header">
      <h2>Related content</h2>
    </div>
      
      <div class="view-content">
      <div class="item-list">
  
  <ul>

          <li><div class="views-field views-field-title"><span class="field-content"><span class="content-type-support_doc"><a href="zencoder-encoding-settings-hdr10.html" hreflang="en">Zencoder Encoding Settings: HDR10</a></span></span></div></li>
          <li><div class="views-field views-field-title"><span class="field-content"><span class="content-type-support_doc"><a href="zencoder-encoding-settings-general-output-settings.html" hreflang="en">Zencoder Encoding Settings: General Output Settings</a></span></span></div></li>
          <li><div class="views-field views-field-title"><span class="field-content"><span class="content-type-support_doc"><a href="zencoder-encoding-settings-job.html" hreflang="en">Zencoder Encoding Settings: Job</a></span></span></div></li>
    
  </ul>

</div>

    </div>
  
          </div>
</div>

  </section>


  </div>

              </section>

                </div>
  </div>

      
  
  </div>

    
    <script type="application/json" data-drupal-selector="drupal-settings-json">{"path":{"baseUrl":"\/","scriptPath":null,"pathPrefix":"","currentPath":"node\/18573","currentPathIsAdmin":false,"isFront":false,"currentLanguage":"en"},"pluralDelimiter":"\u0003","google_analytics":{"trackOutbound":true,"trackMailto":true,"trackDownload":true,"trackDownloadExtensions":"7z|aac|arc|arj|asf|asx|avi|bin|csv|doc(x|m)?|dot(x|m)?|exe|flv|gif|gz|gzip|hqx|jar|jpe?g|js|mp(2|3|4|e?g)|mov(ie)?|msi|msp|pdf|phps|png|ppt(x|m)?|pot(x|m)?|pps(x|m)?|ppam|sld(x|m)?|thmx|qtm?|ra(m|r)?|sea|sit|tar|tgz|torrent|txt|wav|wma|wmv|wpd|xls(x|m|b)?|xlt(x|m)|xlam|xml|z|zip"},"bootstrap":{"forms_has_error_value_toggle":1,"modal_animation":1,"modal_backdrop":"true","modal_focus_input":1,"modal_keyboard":1,"modal_select_text":1,"modal_show":1,"modal_size":"","popover_enabled":1,"popover_animation":1,"popover_auto_close":1,"popover_container":"body","popover_content":"","popover_delay":"0","popover_html":0,"popover_placement":"right","popover_selector":"","popover_title":"","popover_trigger":"click"},"ajaxTrustedUrl":{"form_action_p_pvdeGsVG5zNF_XLGPTvYSKCf43t8qZYSwcfZl2uzM":true},"user":{"uid":0,"permissionsHash":"3b7fdb4927baca3ee2939edeb777485b3e2c2d36cf8c80e0d8f49c6dc5e2eeca"}}</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

  <script type="text/javascript">window.NREUM||(NREUM={});NREUM.info={"beacon":"bam.nr-data.net","licenseKey":"e78a80aa93","applicationID":"129613202","transactionName":"YwBUZkcFVktUWhJQX1pKd1FBDVdWGkkHXlVrBldRXQE=","queueTime":0,"applicationTime":38,"atts":"T0dXEA8fRUU=","errorBeacon":"bam.nr-data.net","agent":""}</script></body>
</html>
