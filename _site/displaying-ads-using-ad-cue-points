<!DOCTYPE html>
<html  lang="en" dir="ltr">
  <head>
    <meta charset="utf-8" />
<script>(function(i,s,o,g,r,a,m){i["GoogleAnalyticsObject"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,"script","https://www.google-analytics.com/analytics.js","ga");ga("create", "UA-2728311-17", {"cookieDomain":"auto"});ga("set", "anonymizeIp", true);ga("send", "pageview");</script>
<meta name="Generator" content="Drupal 8 (https://www.drupal.org)" />
<meta name="MobileOptimized" content="width" />
<meta name="HandheldFriendly" content="true" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link rel="shortcut icon" href="sites/default/files/favicon-64.png" type="image/png" />
<link rel="alternate" hreflang="en" href="displaying-ads-using-ad-cue-points.html" />
<link rel="canonical" href="displaying-ads-using-ad-cue-points.html" />
<link rel="shortlink" href="displaying-ads-using-ad-cue-points.html" />
<link rel="revision" href="displaying-ads-using-ad-cue-points.html" />

    <title>Displaying Ads Using Ad Cue Points | Brightcove Learning</title>
    <link rel="stylesheet" media="all" href="sites/default/files/css/css_d7PoQ20hWbRiei75VgExP_tm8C1ylIRfzB3zIYLc5Cw_q23msc.css" />
<link rel="stylesheet" media="all" href="https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/css/bootstrap.min.css" />
<link rel="stylesheet" media="all" href="https://cdn.jsdelivr.net/npm/@unicorn-fail/drupal-bootstrap-styles@0.0.2/dist/3.4.0/8.x-3.x/drupal-bootstrap.min.css" />


    
<!--[if lte IE 8]>
<script src="/sites/default/files/js/js_VtafjXmRvoUgAzqzYTA3Wrjkx9wcWhjP0G4ZnnqRamA.js"></script>
<![endif]-->

    <meta name="uri-translation" content="on" />
    <script>
window['_fs_debug'] = false; window['_fs_host'] = 'fullstory.com';
window['_fs_org'] = 'BX3Q1';
window['_fs_namespace'] = 'FS';
(function(m,n,e,t,l,o,g,y){
if (e in m) {if(m.console && m.console.log) { m.console.log('FullStory namespace conflict. Please set window["_fs_namespace"].');} return;}
g=m[e]=function(a,b){g.q?g.q.push([a,b]):g._api(a,b);};g.q=[];
o=n.createElement(t);o.async=1;o.src='https://'+_fs_host+'/s/fs.js';
y=n.getElementsByTagName(t)[0];y.parentNode.insertBefore(o,y);
g.identify=function(i,v){g(l,{uid:i});if(v)g(l,v)};g.setUserVars=function(v){g(l,v)};
g.shutdown=function(){g("rec",!1)};g.restart=function(){g("rec",!0)};
g.consent=function(a){g("consent",!arguments.length||a)};
g.identifyAccount=function(i,v){o='account';v=v||{};v.acctId=i;g(o,v)};
g.clearUserCookie=function(){};
})(window,document,window['_fs_namespace'],'script','user');
    </script>
  </head>
  <body class="path-node page-node-type-support-doc has-glyphicons">


<section id="block-gtranslate" class="block block-gtranslate block-gtranslate-block clearfix">
  
    

      



  </section>


  </div>

      </div>
      

                    <div class="navbar-collapse collapse">
            <div class="region region-navigation-collapsible">
    

  </div>

        </div>
          </header>
  
    <div class="full-width-headline">
    <div class="container">
      <div class="row">
        <div class="col-sm-12" role="heading">
            <div class="region region-header">
          <section id="block-brightcoveheadlineblock" class="block block-bc-general block-bc-general-headline-block clearfix">
  
    

      Documentation
  </section>


  </div>

        </div>
      </div>
    </div>
  </div>
  
      <div role="main" class="main-container container  js-quickedit-main-content">
    <div class="row">

                              <aside class="col-sm-3" role="complementary">
              <div class="region region-sidebar-first">
    <section class="bc-search-fixes-search-block-form block block-bc-search-fixes block-bc-search-fixes-search-block clearfix" data-drupal-selector="bc-search-fixes-search-block-form" id="block-brightcovesearchblock">
  
    

      <form action="displaying-ads-using-ad-cue-points.html" method="post" id="bc-search-fixes-search-block-form" accept-charset="UTF-8">
  <div class="form-item js-form-item form-type-textfield js-form-type-textfield form-item-search js-form-item-search form-no-label form-group">
      <label for="edit-search" class="control-label sr-only">Search</label>
  
  
  <input data-drupal-selector="edit-search" class="form-text form-control" type="text" id="edit-search" name="search" value="" size="15" maxlength="128" placeholder="Search" />

  
  
  </div>
<input autocomplete="off" data-drupal-selector="form-ou-jl4mlu0p5v-ol83aepbtovuduuxsw6bixbyct1-g" type="hidden" name="form_build_id" value="form-ou-Jl4mLU0P5v-oL83aEPbToVuduUxsW6BixBycT1-g" /><input data-drupal-selector="edit-bc-search-fixes-search-block-form" type="hidden" name="form_id" value="bc_search_fixes_search_block_form" /><div data-drupal-selector="edit-actions" class="form-actions form-group js-form-wrapper form-wrapper" id="edit-actions"><button data-drupal-selector="edit-submit" class="button js-form-submit form-submit btn-primary btn icon-only" type="submit" id="edit-submit" name="op" value="Search"><span class="sr-only">Search</span><span class="icon glyphicon glyphicon-search" aria-hidden="true"></span></button></div>

</form>

  </section>

<section id="block-inpagenavigationblock" class="hidden-xs block block-bc-ipnav block-bc-ipnav-block clearfix">
  
      <h2 class="block-title">On This Page</h2>
    

      <div class="bc-ipnav-block"></div>
  </section>


  </div>

          </aside>
              
                  <section class="col-sm-9">

                                      <div class="highlighted">  <div class="region region-highlighted">
    <div data-drupal-messages-fallback class="hidden"></div>

  </div>
</div>
                  
                
                
                
                          <a id="main-content"></a>
            <div class="region region-content">
        <h1 class="page-header"><span>Displaying Ads Using Ad Cue Points</span>
</h1>

  
<div class="node node--type-support-doc node--view-mode-full bcdocs-four-rows clearfix">

  

  <div class="group-first-row">
      </div>

  <div class="group-second-row">
  
  <div class="field field--name-field-products field--type-entity-reference field--label-visually_hidden">
    <div class="field--label sr-only">Product(s)</div>
          <div class="field__items taxonomy__tags">
        <svg class="icon--product" viewBox="0 0 100 100">
          <use xlink:href="//support.brightcove.com/themes/custom/bcdocs/images/icons.svg#icon--product"></use>
        </svg>
              <div class="field--item">Video Cloud</div>
          <div class="field--item">Brightcove Player</div>
              </div>
      </div>

  <div class="field field--name-field-roles field--type-entity-reference field--label-visually_hidden">
    <div class="field--label sr-only">Role(s)</div>
          <div class="field__items taxonomy__tags">
        <svg class="icon--roles" viewBox="0 0 100 100">
          <use xlink:href="//support.brightcove.com/themes/custom/bcdocs/images/icons.svg#icon--roles"></use>
        </svg>
              <div class="field--item">Player Developer</div>
              </div>
      </div>

</div>

  
<div class="group-third-row taxonomy__tags">
      <svg class="icon--label" viewBox="0 0 100 100">
      <use xlink:href="//support.brightcove.com/themes/custom/bcdocs/images/icons.svg#icon--label"></use>
    </svg>
    
  <div class="field field--name-field-topics field--type-entity-reference field--label-visually_hidden">
    <div class="field--label sr-only">Topic(s)</div>
          <div class="field--items">
              <div class="field--item">Advertising</div>
          <div class="field--item">Cue Points</div>
              </div>
      </div>

</div>

  <div class="group-fourth-row">
  
            <div class="field field--name-field-support-doc-body field--type-text-with-summary field--label-hidden field--item"><p>In this document, you will learn how to use the IMA3 plugin and ad cue points to display ads.</p>
        <article class="bcls-article"><section id="Example_player" class="bcls-section"><h2>Example player</h2>

<p>The following demonstrates a player showing an advertisement at a cue point created at the two second mark of the video.</p>
<iframe src="https://players.brightcove.net/1752604059001/rkptuIjul_default/index.html?videoId=5318598744001" allowfullscreen="" webkitallowfullscreen="" mozallowfullscreen="" width="640" height="360"></iframe></section><section id="Instructional_video" class="bcls-section"><h2>Instructional video</h2>

<p>The following is an instructional video that leads you through the process of using ad cue points to play ads during video playback.</p>
<iframe src="https://players.brightcove.net/20318290001/E16-WGGOe_default/index.html?videoId=5353307007001" allowfullscreen="" webkitallowfullscreen="" mozallowfullscreen="" width="800" height="450"></iframe></section><section id="Playing_a_video_non-fullscreen" class="bcls-section"><h2>Implementation overview</h2>

<p>To play ads based on ad cue points in the video, you will need to perform the following:</p>

<ul><li>In Studio's <strong>MEDIA</strong> module, create the ad cue point(s) in the video at your desired time(s).</li>
	<li>Obtain/create a VAST tag that will serve the desired ads to the video when a cue point triggers a request.</li>
	<li>Be sure the <strong>IMA3</strong> plugin is loaded in the player. In this document, you will see two ways to perform this task.</li>
	<li>Configure the <strong>IMA3</strong> plugin to use ad cue points.</li>
</ul></section><section id="Create_ad_cue_points" class="bcls-section"><h2>Create ad cue points</h2>

<p>You use Studio's <strong>MEDIA</strong> module to add ad cue points to a video. Click on a video, then perform the following tasks:</p>

<ol><li>Just below the video, click the <strong>Ad Cue Point</strong> button.</li>
	<li>Enter the time you want the cue point to be dispatched.</li>
	<li>Set the <strong>Type</strong> to <strong>ad</strong>.</li>
	<li>Give the cue point a name.</li>
</ol><figure class="bcls-figure"><img class="bcls-image" alt="Create cue point in Studio" src="https://learning-services-media.brightcove.com/doc-assets/player-development/advertising/ad-cue-points/studio-create-cue-point.png" /></figure><p>You may add multiple cue points. For more information on using cue points in Studio see the <a href="working-cue-points-media-module.html">Working with Cue Points in the Media Module</a> document.</p>
</section><section id="Create/obtain_a_VAST_tag" class="bcls-section"><h2>Create/obtain a VAST tag</h2>

<p>When configuring the IMA3 plugin you will need to provide a URL to a location of a VAST tag. The VAST tag serves the ad for the player to play. In this example, a static VAST tag (which is actually a URL to a VAST XML document) is used. You may wish to use an ad server to randomly choose from multiple ads to be viewed. Regardless, the IMA3 plugin will need to point to a valid VAST tag.</p>

<p>For this document, a static VAST tag will be used that plays a single advertisement. The VAST XML appears as follows:</p>

<pre class="line-numbers">
      <code class="language-html">&lt;VAST version="3.0"&gt;
        &lt;Ad id="1"&gt;
          &lt;InLine&gt;
            &lt;AdSystem version="1.0"&gt;Test Ad Server&lt;/AdSystem&gt;
            &lt;AdTitle&gt;
              &lt;![CDATA[ Portals ]]&gt;
            &lt;/AdTitle&gt;
            &lt;Description&gt;
              &lt;![CDATA[ Demo ad number 6 ]]&gt;
            &lt;/Description&gt;
            &lt;Error&gt;
              &lt;![CDATA[ ]]&gt;
            &lt;/Error&gt;
            &lt;Creatives&gt;
              &lt;Creative&gt;
                &lt;Linear&gt;
                  &lt;Duration&gt;00:00:8&lt;/Duration&gt;
                  &lt;TrackingEvents/&gt;
                  &lt;AdParameters&gt;
                    &lt;![CDATA[ &lt;xml&gt;&lt;/xml&gt; ]]&gt;
                  &lt;/AdParameters&gt;
                  &lt;VideoClicks/&gt;
                  &lt;MediaFiles&gt;
                    &lt;MediaFile type="video/mp4" width="1280" height="720" delivery="progressive" id="2" bitrate="4316" minBitrate="320" maxBitrate="320" scalable="true" maintainAspectRatio="true"&gt;
                      &lt;![CDATA[
                        http://solutions.brightcove.com/bcls/ads/bc-ads/bcls-ad-6-5seconds.mp4
                      ]]&gt;
                    &lt;/MediaFile&gt;
                  &lt;/MediaFiles&gt;
                &lt;/Linear&gt;
              &lt;/Creative&gt;
            &lt;/Creatives&gt;
            &lt;Extensions&gt;
              &lt;Extension&gt;
                &lt;xml&gt;data&lt;/xml&gt;
              &lt;/Extension&gt;
            &lt;/Extensions&gt;
          &lt;/InLine&gt;
        &lt;/Ad&gt;
      &lt;/VAST&gt;</code></pre>
</section><section id="Studio_implementation" class="bcls-section"><h2>Studio implementation</h2>

<p>You can use Studio to set up ad cue points. From a high-level you do the following:</p>

<ul><li>Set up the IMA3 plugin using the <strong>Advertising</strong> section in the <strong>PLAYERS</strong> module.</li>
	<li>Publish your player.</li>
</ul><p>Here are the detailed steps that carry out the set up:</p>

<ol class="bcls-tasklist"><li>Open the <strong>PLAYERS</strong> module and either create a new player or locate the player to which you wish to add cue point advertising.</li>
	<li>Click the link for the player to open the player's properties.</li>
	<li>Click <strong>Advertising</strong> in the left navigation menu.</li>
	<li>Check the <strong>Enable Client-Side (IMA)</strong> checkbox.</li>
	<li>Supply the appropriate <strong>Ad Tag</strong>.</li>
	<li>From the <strong>Request Ads</strong> drop down, select <strong>On cue point</strong>, as shown here:
	<figure class="bcls-figure"><img class="bcls-image" alt="Plugin configuration in Studio" src="https://learning-services-media.brightcove.com/doc-assets/player-development/advertising/ad-cue-points/studio-plugin-setup.png" /></figure></li>
	<li>Click <strong>Save</strong>.</li>
	<li>To publish the player, click <strong>Publish &amp; Embed &gt; Publish Changes</strong>.</li>
	<li>To close the open dialog, click <strong>Close</strong>.</li>
	<li>Return to the <strong>MEDIA</strong> module and publish a video with ad cue points using the newly configured player.</li>
</ol></section><section id="Plugin_configuration" class="bcls-section"><h2>Plugin configuration</h2>

<p>There are configuration settings you must make to the IMA3 plugin to correctly use ad cue points. They are:</p>

<ul><li><code>useMediaCuePoints</code> must be set to <code>true</code></li>
	<li><code>requestMode</code> must be set to the string <code>oncue</code></li>
	<li><code>serverUrl</code> must be set to a valid VAST tag</li>
</ul><p>For complete details on these options, see the <a href="advertising-ima3-plugin.html#bc-ipnav-4">Advertising with the IMA3 Plugin</a> document's <strong>Options</strong> section.</p>
</section><section id="In-page_embed_implementation" class="bcls-section"><h2>In-page embed implementation</h2>

<p>You can also implement ad cue points using the in-page embed player code. In the code below, the IMA3 plugin is loaded and configured all in the HTML page.</p>

<p>The following code is the actual implementation:</p>

<ul><li>Lines 7-12: Style the size of the player.</li>
	<li>Line 13: Link to the IMA3 plugin's CSS.</li>
	<li>Lines 19-27: The player publishing code, with the addition of an <code>id</code> attribute, which will be used in the JavaScript.</li>
	<li>Line 29 : Include the IMA3 plugin's JavaScript.</li>
	<li>Lines 32-33, 40: Standard code to wait for the player code to be ready to interact with, and assign a variable the player object.</li>
	<li>Lines 34-38: Assign the required options their prescribed values.</li>
	<li>Line 39: Call the <code>ima3</code> plugin, passing the options as a parameter.</li>
</ul><pre class="line-numbers">
<code class="language-html">&lt;!doctype html&gt;
&lt;html&gt;

&lt;head&gt;
  &lt;meta charset="UTF-8"&gt;
  &lt;title&gt;Untitled Document&lt;/title&gt;
  &lt;style&gt;
    .video-js {
      height: 344px;
      width: 610px;
    }
  &lt;/style&gt;
  &lt;link href="https://players.brightcove.net/videojs-ima3/3/videojs.ima3.min.css" rel="stylesheet"&gt;

&lt;/head&gt;

&lt;body&gt;

  &lt;video-js id="myPlayerID"
    data-video-id="4607746980001"
    data-account="1507807800001"
    data-player="rkNxoBMOe"
    data-embed="default"
    data-application-id
    class="video-js"
    controls&gt;&lt;/video-js&gt;
  &lt;script src="https://players.brightcove.net/1507807800001/rkNxoBMOe_default/index.min.js"&gt;&lt;/script&gt;

  &lt;script src="https://players.brightcove.net/videojs-ima3/3/videojs.ima3.min.js"&gt;&lt;/script&gt;

  &lt;script type="text/javascript"&gt;
    videojs.getPlayer('myPlayerID').ready(function() {
      var myPlayer = this,
      <span class="bcls-highlight">options = {
        useMediaCuePoints: true,
        requestMode: 'oncue',
        serverUrl: "//solutions.brightcove.com/bcls/brightcove-player/vmap/simple-vast.xml"
      };
      myPlayer.ima3(options);</span>
    });
  &lt;/script&gt;

&lt;/body&gt;

&lt;/html&gt;</code></pre>
</section><section class="bcls-section"><h2 id="Known_issues">Known issues</h2>

<ul><li>When naming your cue points in Studio, as shown in the <strong>Create ad cue points</strong> section above, do NOT use curly braces and double quotes in the name. Doing so will cause the dynamically generated VMAP to be incorrectly formatted.</li>
</ul></section></article></div>
      
</div>

</div>


<section class="views-element-container block block-views block-views-blockrelated-content-by-field-block-1 clearfix" id="block-views-block-related-content-by-field-block-1">
  
    

      <div class="form-group"><div class="view view-related-content-by-field view-id-related_content_by_field view-display-id-block_1 js-view-dom-id-2f93f818d687868e72832f54887833fcfa92c83a183cc01ae97d452bbb349f26">
  
    
      <div class="view-header">
      <h2>Related content</h2>
    </div>
      
      <div class="view-content">
      <div class="item-list">
  
  <ul>

          <li><div class="views-field views-field-title"><span class="field-content"><span class="content-type-support_doc"><a href="advertising-ima3-plugin.html" hreflang="en">Advertising with the IMA3 Plugin</a></span></span></div></li>
          <li><div class="views-field views-field-title"><span class="field-content"><span class="content-type-support_doc"><a href="implementing-cue-points-programmatically.html" hreflang="en">Implementing Cue Points Programmatically</a></span></span></div></li>
          <li><div class="views-field views-field-title"><span class="field-content"><span class="content-type-support_doc"><a href="brightcove-player-sample-cue-points-display-cta.html" hreflang="en">Brightcove Player Sample: Cue Points Display CTA</a></span></span></div></li>
          <li><div class="views-field views-field-title"><span class="field-content"><span class="content-type-support_doc"><a href="working-cue-points-media-module.html" hreflang="en">Working with Cue Points in the Media Module</a></span></span></div></li>
    
  </ul>

</div>

    </div>
  
          </div>
</div>

  </section>


  </div>

              </section>

                </div>
  </div>

      
  
  </div>

    
    <script type="application/json" data-drupal-selector="drupal-settings-json">{"path":{"baseUrl":"\/","scriptPath":null,"pathPrefix":"","currentPath":"node\/18131","currentPathIsAdmin":false,"isFront":false,"currentLanguage":"en"},"pluralDelimiter":"\u0003","google_analytics":{"trackOutbound":true,"trackMailto":true,"trackDownload":true,"trackDownloadExtensions":"7z|aac|arc|arj|asf|asx|avi|bin|csv|doc(x|m)?|dot(x|m)?|exe|flv|gif|gz|gzip|hqx|jar|jpe?g|js|mp(2|3|4|e?g)|mov(ie)?|msi|msp|pdf|phps|png|ppt(x|m)?|pot(x|m)?|pps(x|m)?|ppam|sld(x|m)?|thmx|qtm?|ra(m|r)?|sea|sit|tar|tgz|torrent|txt|wav|wma|wmv|wpd|xls(x|m|b)?|xlt(x|m)|xlam|xml|z|zip"},"bootstrap":{"forms_has_error_value_toggle":1,"modal_animation":1,"modal_backdrop":"true","modal_focus_input":1,"modal_keyboard":1,"modal_select_text":1,"modal_show":1,"modal_size":"","popover_enabled":1,"popover_animation":1,"popover_auto_close":1,"popover_container":"body","popover_content":"","popover_delay":"0","popover_html":0,"popover_placement":"right","popover_selector":"","popover_title":"","popover_trigger":"click"},"ajaxTrustedUrl":{"form_action_p_pvdeGsVG5zNF_XLGPTvYSKCf43t8qZYSwcfZl2uzM":true},"user":{"uid":0,"permissionsHash":"3b7fdb4927baca3ee2939edeb777485b3e2c2d36cf8c80e0d8f49c6dc5e2eeca"}}</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

  <script type="text/javascript">window.NREUM||(NREUM={});NREUM.info={"beacon":"bam.nr-data.net","licenseKey":"e78a80aa93","applicationID":"129613202","transactionName":"YwBUZkcFVktUWhJQX1pKd1FBDVdWGkkHXlVrBldRXQE=","queueTime":0,"applicationTime":16,"atts":"T0dXEA8fRUU=","errorBeacon":"bam.nr-data.net","agent":""}</script></body>
</html>
