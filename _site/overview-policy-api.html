<!DOCTYPE html>
<html  lang="en" dir="ltr">
  <head>
    <meta charset="utf-8" />
<script>(function(i,s,o,g,r,a,m){i["GoogleAnalyticsObject"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,"script","https://www.google-analytics.com/analytics.js","ga");ga("create", "UA-2728311-17", {"cookieDomain":"auto"});ga("set", "anonymizeIp", true);ga("send", "pageview");</script>
<meta name="Generator" content="Drupal 8 (https://www.drupal.org)" />
<meta name="MobileOptimized" content="width" />
<meta name="HandheldFriendly" content="true" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link rel="shortcut icon" href="sites/default/files/favicon-64.png" type="image/png" />
<link rel="alternate" hreflang="en" href="overview-policy-api.html" />
<link rel="canonical" href="overview-policy-api.html" />
<link rel="shortlink" href="overview-policy-api.html" />
<link rel="revision" href="overview-policy-api.html" />

    <title>Overview: Policy API | Brightcove Learning</title>
    <link rel="stylesheet" media="all" href="sites/default/files/css/css_d7PoQ20hWbRiei75VgExP_tm8C1ylIRfzB3zIYLc5Cw_q23msc.css" />
<link rel="stylesheet" media="all" href="https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/css/bootstrap.min.css" />
<link rel="stylesheet" media="all" href="https://cdn.jsdelivr.net/npm/@unicorn-fail/drupal-bootstrap-styles@0.0.2/dist/3.4.0/8.x-3.x/drupal-bootstrap.min.css" />


    
<!--[if lte IE 8]>
<script src="/sites/default/files/js/js_VtafjXmRvoUgAzqzYTA3Wrjkx9wcWhjP0G4ZnnqRamA.js"></script>
<![endif]-->

    <meta name="uri-translation" content="on" />
    <script>
window['_fs_debug'] = false; window['_fs_host'] = 'fullstory.com';
window['_fs_org'] = 'BX3Q1';
window['_fs_namespace'] = 'FS';
(function(m,n,e,t,l,o,g,y){
if (e in m) {if(m.console && m.console.log) { m.console.log('FullStory namespace conflict. Please set window["_fs_namespace"].');} return;}
g=m[e]=function(a,b){g.q?g.q.push([a,b]):g._api(a,b);};g.q=[];
o=n.createElement(t);o.async=1;o.src='https://'+_fs_host+'/s/fs.js';
y=n.getElementsByTagName(t)[0];y.parentNode.insertBefore(o,y);
g.identify=function(i,v){g(l,{uid:i});if(v)g(l,v)};g.setUserVars=function(v){g(l,v)};
g.shutdown=function(){g("rec",!1)};g.restart=function(){g("rec",!0)};
g.consent=function(a){g("consent",!arguments.length||a)};
g.identifyAccount=function(i,v){o='account';v=v||{};v.acctId=i;g(o,v)};
g.clearUserCookie=function(){};
})(window,document,window['_fs_namespace'],'script','user');
    </script>
  </head>
  <body class="path-node page-node-type-support-doc has-glyphicons">


<section id="block-gtranslate" class="block block-gtranslate block-gtranslate-block clearfix">
  
    

      



  </section>


  </div>

      </div>
      

                    <div class="navbar-collapse collapse">
            <div class="region region-navigation-collapsible">
    

  </div>

        </div>
          </header>
  
    <div class="full-width-headline">
    <div class="container">
      <div class="row">
        <div class="col-sm-12" role="heading">
            <div class="region region-header">
          <section id="block-brightcoveheadlineblock" class="block block-bc-general block-bc-general-headline-block clearfix">
  
    

      Documentation
  </section>


  </div>

        </div>
      </div>
    </div>
  </div>
  
      <div role="main" class="main-container container  js-quickedit-main-content">
    <div class="row">

                              <aside class="col-sm-3" role="complementary">
              <div class="region region-sidebar-first">
    <section class="bc-search-fixes-search-block-form block block-bc-search-fixes block-bc-search-fixes-search-block clearfix" data-drupal-selector="bc-search-fixes-search-block-form" id="block-brightcovesearchblock">
  
    

      <form action="overview-policy-api.html" method="post" id="bc-search-fixes-search-block-form" accept-charset="UTF-8">
  <div class="form-item js-form-item form-type-textfield js-form-type-textfield form-item-search js-form-item-search form-no-label form-group">
      <label for="edit-search" class="control-label sr-only">Search</label>
  
  
  <input data-drupal-selector="edit-search" class="form-text form-control" type="text" id="edit-search" name="search" value="" size="15" maxlength="128" placeholder="Search" />

  
  
  </div>
<input autocomplete="off" data-drupal-selector="form-g8knknekbhy-i19ep1w8-wk8qh2chp3if2qxaocaibe" type="hidden" name="form_build_id" value="form-g8KnknekBHy_I19Ep1W8-wk8qH2CHP3IF2QXaocaIBE" /><input data-drupal-selector="edit-bc-search-fixes-search-block-form" type="hidden" name="form_id" value="bc_search_fixes_search_block_form" /><div data-drupal-selector="edit-actions" class="form-actions form-group js-form-wrapper form-wrapper" id="edit-actions"><button data-drupal-selector="edit-submit" class="button js-form-submit form-submit btn-primary btn icon-only" type="submit" id="edit-submit" name="op" value="Search"><span class="sr-only">Search</span><span class="icon glyphicon glyphicon-search" aria-hidden="true"></span></button></div>

</form>

  </section>

<section id="block-inpagenavigationblock" class="hidden-xs block block-bc-ipnav block-bc-ipnav-block clearfix">
  
      <h2 class="block-title">On This Page</h2>
    

      <div class="bc-ipnav-block"></div>
  </section>


  </div>

          </aside>
              
                  <section class="col-sm-9">

                                      <div class="highlighted">  <div class="region region-highlighted">
    <div data-drupal-messages-fallback class="hidden"></div>

  </div>
</div>
                  
                
                
                
                          <a id="main-content"></a>
            <div class="region region-content">
        <h1 class="page-header"><span>Overview: Policy API</span>
</h1>

  
<div class="node node--type-support-doc node--view-mode-full bcdocs-four-rows clearfix">

  

  <div class="group-first-row">
      </div>

  <div class="group-second-row">
  
  <div class="field field--name-field-products field--type-entity-reference field--label-visually_hidden">
    <div class="field--label sr-only">Product(s)</div>
          <div class="field__items taxonomy__tags">
        <svg class="icon--product" viewBox="0 0 100 100">
          <use xlink:href="//support.brightcove.com/themes/custom/bcdocs/images/icons.svg#icon--product"></use>
        </svg>
              <div class="field--item">Video Cloud</div>
              </div>
      </div>

  <div class="field field--name-field-roles field--type-entity-reference field--label-visually_hidden">
    <div class="field--label sr-only">Role(s)</div>
          <div class="field__items taxonomy__tags">
        <svg class="icon--roles" viewBox="0 0 100 100">
          <use xlink:href="//support.brightcove.com/themes/custom/bcdocs/images/icons.svg#icon--roles"></use>
        </svg>
              <div class="field--item">API Developer</div>
          <div class="field--item">Device SDK Developer</div>
              </div>
      </div>

</div>

  
<div class="group-third-row taxonomy__tags">
      <svg class="icon--label" viewBox="0 0 100 100">
      <use xlink:href="//support.brightcove.com/themes/custom/bcdocs/images/icons.svg#icon--label"></use>
    </svg>
    
  <div class="field field--name-field-topics field--type-entity-reference field--label-visually_hidden">
    <div class="field--label sr-only">Topic(s)</div>
          <div class="field--items">
              <div class="field--item">API Overviews</div>
          <div class="field--item">Policies</div>
              </div>
      </div>

  <div class="field field--name-field-apis field--type-entity-reference field--label-visually_hidden">
    <div class="field--label sr-only">API(s)</div>
          <div class="field--items">
              <div class="field--item">Policy API</div>
              </div>
      </div>

</div>

  <div class="group-fourth-row">
  
            <div class="field field--name-field-support-doc-body field--type-text-with-summary field--label-hidden field--item"><p>In this topic, you will learn what the Policy API is for and how to use it. The Policy API is used to create or get policy keys.</p>
                <article class="bcls-article"><div class="training-video-player-ipx" data-experience="5a73630f7afd7a00101bc1b5" data-video-ids="5853357211001">Â </div>
<script src="https://players.brightcove.net/20318290001/experience_5a73630f7afd7a00101bc1b5/live.js"></script><section class="bcls-section"><h2 id="Introduction">Introduction</h2>

<p>The <a href="policy-keys.html">policy key</a> is used to retrieve video and playlist content from your Video Cloud library using the <a href="overview-playback-api.html">Playback API</a>.</p>

<p>Also see the <a href="https://docs.brightcove.com/policy-api/v1/doc/index.html">API Reference</a>.</p>
</section><section class="bcls-section"><h2 id="Do_you_need_one">Do you need one?</h2>

<p>There are only special cases where you need to generate your own policy keys:</p>

<ul><li>Policy keys are generated for Brightcove Players automatically when you create them. You only need to generate policy keys directly using this API if you wish to get a key with geo-filtering for a player, or to access the Playback API without creating a player - typically this would be for apps created using the <a href="native-player-sdks.html">device SDKs</a>. See <a href="policy-keys.html">Policy Keys</a> for instructions on how to obtain the policy key for any Brightcove Player.</li>
	<li>Performing video search requests:
	<ul><li>You must use a <a href="#Search_videos">search-enabled Policy Key</a>.</li>
		<li>Policy keys generated for new Brightcove Players are not search enabled by default. You must set this manually using the <a href="#Search_videos">Policy API</a>.</li>
		<li>In general, search-enabled Policy Keys should only be stored on a server and not in a browser player or mobile app, since they can be used to list all playable videos. For some accounts this may not be applicable if you don't mind that all of your playable videos can be discovered.</li>
		<li>Search requests will only return playable videos. For API request/response details, see the <strong>Get Videos</strong> section of the <a href="http://docs.brightcove.com/playback-api/v1/doc/index.html">Playback API Reference</a>.</li>
	</ul></li>
</ul></section><section class="bcls-section"><h2 id="FAQ">FAQ</h2>

<p>Here are some questions about the Policy API that we commonly get.</p>

<dl><dt class="bcls-question">Can policy keys be created for multiple accounts, or only one?</dt>
	<dd class="bcls-answer">Policy keys allow access to videos and playlist for one account. If you have multiple accounts, you need to create policy keys for each one.</dd>
	<dt class="bcls-question">Do policy keys expire?</dt>
	<dd class="bcls-answer">No, policy keys are good forever. If you need to revoke a policy key, you must contact <a href="contact.html">Brightcove Support</a> - include the account id and the policy key you wish to revoke in the request.</dd>
	<dt class="bcls-question">Will policy keys work for all users on the account?</dt>
	<dd class="bcls-answer">Yes, anyone who has the policy key can use it.</dd>
	<dt class="bcls-question">Can a policy key be updated?</dt>
	<dd class="bcls-answer">No, there is no way to update a policy key. You can either <a href="policy-keys.html#Getting_the_policy_key">get the policy key</a> from an existing player in your Video Cloud account, or you can create a new policy key by using the Policy API.</dd>
</dl></section><section class="bcls-section"><h2 id="Base_URL">Base URL</h2>

<p>The base URL for the Policy API is:</p>

<pre>
<code class="notranslate language-http">https://policy.api.brightcove.com/v1</code></pre>

<h3>Account path</h3>

<p>In all cases, requests will be made for a specific Video Cloud Account. So, you will always add <code class="notranslate">/accounts/ </code> followed by your account id to the base URL:</p>

<pre>
<code class="notranslate language-http">https://policy.api.brightcove.com/v1<strong>/accounts/{account_id}</strong></code></pre>
</section><section class="bcls-section"><h2 id="Authentication">Authentication</h2>

<p>Requests are authenticated by an access token passed in an <code class="notranslate">Authorization </code> header:</p>

<pre>
<code class="notranslate language-json">Authorization: Bearer {access_token}</code></pre>

<p>To get access tokens, follow these steps:</p>

<ol class="bcls-tasklist"><li>
	<p>Obtain your client credentials ( <code class="notranslate">client_id </code> and <code class="notranslate">client_secret </code>) through <a href="managing-api-authentication-credentials.html">Video Cloud Studio</a> (recommended).</p>

	<p>For access tokens that can be used with policy key create requests, your client credentials are required to have the following permissions in Studio: <strong>Players Read and Read/Write</strong></p>

	<figure class="bcls-figure"><img class="bcls-image--no-border" alt="Authentication permissions" src="https://learning-services-media.brightcove.com/doc-assets/video-cloud-apis/policy-api/overview/authentication-permissions.png" /><figcaption class="bcls-caption--image">Authentication permissions</figcaption></figure><p>You can also obtain client credentials directly via the <a href="overview-oauth-api-v4.html">Brightcove OAuth API</a>.</p>
	</li>
	<li>Once you have client credentials, you can <a href="getting-access-tokens.html">obtain temporary access tokens from the OAuth API</a>.</li>
</ol></section><section class="bcls-section"><h2 id="required_headers">Required headers</h2>

<p>In addition to the <code>Authorization</code> header discussed in the previous section, requests must also have a <code>Content-Type</code> header:</p>

<pre class="line-numbers">
<code class="language-bash">Content-Type: application/json</code></pre>
</section><section class="bcls-section"><h2 id="Create_a_policy_key">Create a policy key</h2>

<p>To create a new policy key, make a POST request to:</p>

<pre>
<code class="notranslate language-http">https://policy.api.brightcove.com/v1/accounts/{account_id}/policy_keys</code></pre>

<h3>Request body</h3>

<p>In the request body, include the JSON for the policy:</p>

<pre class="line-numbers">
<code class="notranslate language-json">{
	"key-data": {
		"account-id": "{account_id}"
	}
}</code></pre>

<p>This is the most basic policy, which restricts access to the account, you must include this in any policy you create. The account id here must match the account id in the request URL, or an error will be returned.</p>
</section><section class="bcls-section"><h2 id="Domain_restriction">Domain restriction</h2>

<p>In addition to limiting access to the account, you can also limit access to specific domains by adding the <code class="notranslate">allowed-domains </code> key:</p>

<pre class="line-numbers">
<code class="notranslate language-json">{
	"key-data": {
		"account-id": "123456789001",
		"allowed-domains": [
			"http://www.abc.com",
			"https://www.abc.com",
			"http://www.xyz.com",
			"https://www.xyz.com"
		]
	}
}</code></pre>

<aside class="bcls-aside bcls-aside--warning"><ul><li>Domains must contain the protocol and domain name, and the port, unless it is the default port for the protocol (e.g. http://www.abc.com, https://www.def.com:8888), but <strong>not paths or trailing slashes ("/")</strong></li>
	<li>Any key for your account may be used to access the account content via the Playback API, so if you are using domain restriction, we highly recommend that you domain restrict all of your players.</li>
	<li>Because the <a href="native-player-sdks.html">Brightcove Native Player SDKs</a> do not send an origin header, you cannot use a domain-restricted Policy Key. If you try this, you will get a <code>403 Forbidden</code> response when you attempt to fetch content from your Video Cloud library.</li>
</ul></aside></section><section class="bcls-section"><h2 id="Geo_restriction">Geo restriction</h2>

<p>The Policy API can be used to implement geo-filtering for a player instead of or in addition to <a href="using-cms-api-add-geo-filtering.html">individual videos.</a></p>

<aside class="bcls-aside bcls-aside--information"><ul><li>A policy may restrict playback based on the viewer's detected country. To create and use a key with this policy, the account must be permitted to use geo-filtering features. This policy will also deny access if the end-user appears to be making their request through or from an anonymizing proxy.</li>
	<li>Geo restrictions applied in a policy key are enforced <strong>only</strong> by players that use that policy key.</li>
	<li>Geo-restriction can also be <a href="using-cms-api-add-geo-filtering.html">applied to individual videos</a>. Video Cloud applies both player and video level geo-filtering policies, so if a country is excluded by either, the video will not be available in that country.</li>
</ul></aside><h3>Sample</h3>

<p>Here is an example whitelist policy set that only allows playback from the US and US territories and military bases:</p>

<pre class="line-numbers">
<code class="notranslate language-json">{"account-id": "8523232323",
	"geo": {
		"countries": ["us", "usmil", "pr", "gu", "vi", "as", "mp"],
		"exclude_countries": false
	}
}</code></pre>

<p>To blacklist those countries instead, set <code class="notranslate">exclude_countries </code> to true.</p>
</section><section class="bcls-section"><h2 id="Require_SSAI">Require SSAI</h2>

<p>When working with Server-Side Ad Insertion (SSAI), you may want a way to enforce proper ad configuration in your API requests. You can do this by configuring your policy key to require that an <code class="notranslate">ad_config_id </code> is appended as a URL parameter to all Playback API requests.</p>

<h3>Sample</h3>

<p>Here is an example:</p>

<pre class="line-numbers">
<code class="notranslate language-json">{
	"key-data": {
		"account-id": "1752604059001",
		"require-ad-config": true
	}
}</code></pre>

<p>For details about using the <code class="notranslate">ad_config_id </code> with your Playback API requests, see the <a href="overview-playback-api.html#Video_request_with_SSAI">Playback API Overview: Video request with SSAI</a> document.</p>
</section><section class="bcls-section"><h2 id="Search_videos">Search videos</h2>

<p>When performing a video search request, you must use a Policy Key that is search-enabled. To create a search-enabled Policy Key, the request body of the call must include the following:</p>

<pre class="line-numbers">
<code class="notranslate language-json">{
	"key-data": {
		"account-id": "57838016001",
		"apis": ["search"]
	}
}</code></pre>

<aside class="bcls-aside bcls-aside--warning">In general, search-enabled Policy Keys should only be stored on a server and not in a browser player or mobile app, since they can be used to list all playable videos. For some accounts this may not be applicable if you do not care if all of your playable videos can be discovered.</aside></section><section class="bcls-section"><h2 id="API_Response">API Response</h2>

<p>The response to policy create requests will be JSON that includes the encrypted <code class="notranslate">key-string </code> that you can use to authenticate requests to the Playback API, as well as the policy associated with the key:</p>

<pre class="line-numbers">
<code class="notranslate language-json">{
	"key-data": {
		"account-id": "57838016001"
	},
	"key-string": "BCpkADawqM0NK0Rq8n6sEQyWykemrqeSmIQqqVt3XBrdpl8TYlvqN3hwKphBJRnkPgx6WAbozCW_VgTOBCNf1AQRh8KnmXSXfveQalRc5-pyNlSod5XzP99If2U"
}</code></pre>
</section><section class="bcls-section"><h2 id="Policy_requests">Policy requests</h2>

<p>To retrieve the policy object associated with a <code class="notranslate">key-string </code>, make a GET request to:</p>

<pre>
<code class="notranslate language-json">/accounts/v1/{account_id}/policy_keys/{key_string}</code></pre>

<p>The response will be JSON representation of the key-string and policy:</p>

<pre class="line-numbers">
<code class="notranslate language-json">{
	"key-data": {
		"account-id": "57838016001"
	},
	"key-string": "BCpkADawqM0NK0Rq8n6sEQyWykemrqeSmIQqqVt3XBrdpl8TYlvqN3hwKphBJRnkPgx6WAbozCW_VgTOBCNf1AQRh8KnmXSXfveQalRc5-pyNlSod5XzP99If2U"
}</code></pre>
</section><section class="bcls-section"><h2 id="Revoke_a_policy">Revoke a policy</h2>

<p>If you need to revoke an existing policy, submit a request to <a href="contact.html">Brightcove Support</a>. Include the key string for the policy you want to revoke in your request.</p>
</section></article></div>
      
</div>

</div>


<section class="views-element-container block block-views block-views-blockrelated-content-by-field-block-1 clearfix" id="block-views-block-related-content-by-field-block-1">
  
    

      <div class="form-group"><div class="view view-related-content-by-field view-id-related_content_by_field view-display-id-block_1 js-view-dom-id-317393b7be76f5b15fc50c7feeb38c5adc936eb2bad35469ff6aaee96f16ea43">
  
    
      <div class="view-header">
      <h2>Related content</h2>
    </div>
      
      <div class="view-content">
      <div class="item-list">
  
  <ul>

          <li><div class="views-field views-field-title"><span class="field-content"><span class="content-type-support_doc"><a href="overview-policy-api.html" hreflang="en">Overview: Policy API</a></span></span></div></li>
          <li><div class="views-field views-field-title"><span class="field-content"><span class="content-type-support_doc"><a href="quick-start-policy-api.html" hreflang="en">Quick Start: Policy API</a></span></span></div></li>
          <li><div class="views-field views-field-title"><span class="field-content"><span class="content-type-training_video"><a href="introducing-policy-api.html" hreflang="en">Introducing the Policy API</a></span></span></div></li>
    
  </ul>

</div>

    </div>
  
          </div>
</div>

  </section>


  </div>

              </section>

                </div>
  </div>

      
  
  </div>

    
    <script type="application/json" data-drupal-selector="drupal-settings-json">{"path":{"baseUrl":"\/","scriptPath":null,"pathPrefix":"","currentPath":"node\/18003","currentPathIsAdmin":false,"isFront":false,"currentLanguage":"en"},"pluralDelimiter":"\u0003","google_analytics":{"trackOutbound":true,"trackMailto":true,"trackDownload":true,"trackDownloadExtensions":"7z|aac|arc|arj|asf|asx|avi|bin|csv|doc(x|m)?|dot(x|m)?|exe|flv|gif|gz|gzip|hqx|jar|jpe?g|js|mp(2|3|4|e?g)|mov(ie)?|msi|msp|pdf|phps|png|ppt(x|m)?|pot(x|m)?|pps(x|m)?|ppam|sld(x|m)?|thmx|qtm?|ra(m|r)?|sea|sit|tar|tgz|torrent|txt|wav|wma|wmv|wpd|xls(x|m|b)?|xlt(x|m)|xlam|xml|z|zip"},"bootstrap":{"forms_has_error_value_toggle":1,"modal_animation":1,"modal_backdrop":"true","modal_focus_input":1,"modal_keyboard":1,"modal_select_text":1,"modal_show":1,"modal_size":"","popover_enabled":1,"popover_animation":1,"popover_auto_close":1,"popover_container":"body","popover_content":"","popover_delay":"0","popover_html":0,"popover_placement":"right","popover_selector":"","popover_title":"","popover_trigger":"click"},"ajaxTrustedUrl":{"form_action_p_pvdeGsVG5zNF_XLGPTvYSKCf43t8qZYSwcfZl2uzM":true},"user":{"uid":0,"permissionsHash":"3b7fdb4927baca3ee2939edeb777485b3e2c2d36cf8c80e0d8f49c6dc5e2eeca"}}</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

  <script type="text/javascript">window.NREUM||(NREUM={});NREUM.info={"beacon":"bam.nr-data.net","licenseKey":"e78a80aa93","applicationID":"129613202","transactionName":"YwBUZkcFVktUWhJQX1pKd1FBDVdWGkkHXlVrBldRXQE=","queueTime":0,"applicationTime":46,"atts":"T0dXEA8fRUU=","errorBeacon":"bam.nr-data.net","agent":""}</script></body>
</html>
