<!DOCTYPE html>
<html  lang="en" dir="ltr">
  <head>
    <meta charset="utf-8" />
<script>(function(i,s,o,g,r,a,m){i["GoogleAnalyticsObject"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,"script","https://www.google-analytics.com/analytics.js","ga");ga("create", "UA-2728311-17", {"cookieDomain":"auto"});ga("set", "anonymizeIp", true);ga("send", "pageview");</script>
<meta name="Generator" content="Drupal 8 (https://www.drupal.org)" />
<meta name="MobileOptimized" content="width" />
<meta name="HandheldFriendly" content="true" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link rel="shortcut icon" href="sites/default/files/favicon-64.png" type="image/png" />
<link rel="alternate" hreflang="en" href="guide-ad-partner-integration.html" />
<link rel="canonical" href="guide-ad-partner-integration.html" />
<link rel="shortlink" href="guide-ad-partner-integration.html" />
<link rel="revision" href="guide-ad-partner-integration.html" />

    <title>Guide: Ad Partner Integration | Brightcove Learning</title>
    <link rel="stylesheet" media="all" href="sites/default/files/css/css_d7PoQ20hWbRiei75VgExP_tm8C1ylIRfzB3zIYLc5Cw_q23msc.css" />
<link rel="stylesheet" media="all" href="https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/css/bootstrap.min.css" />
<link rel="stylesheet" media="all" href="https://cdn.jsdelivr.net/npm/@unicorn-fail/drupal-bootstrap-styles@0.0.2/dist/3.4.0/8.x-3.x/drupal-bootstrap.min.css" />


    
<!--[if lte IE 8]>
<script src="/sites/default/files/js/js_VtafjXmRvoUgAzqzYTA3Wrjkx9wcWhjP0G4ZnnqRamA.js"></script>
<![endif]-->

    <meta name="uri-translation" content="on" />
    <script>
window['_fs_debug'] = false; window['_fs_host'] = 'fullstory.com';
window['_fs_org'] = 'BX3Q1';
window['_fs_namespace'] = 'FS';
(function(m,n,e,t,l,o,g,y){
if (e in m) {if(m.console && m.console.log) { m.console.log('FullStory namespace conflict. Please set window["_fs_namespace"].');} return;}
g=m[e]=function(a,b){g.q?g.q.push([a,b]):g._api(a,b);};g.q=[];
o=n.createElement(t);o.async=1;o.src='https://'+_fs_host+'/s/fs.js';
y=n.getElementsByTagName(t)[0];y.parentNode.insertBefore(o,y);
g.identify=function(i,v){g(l,{uid:i});if(v)g(l,v)};g.setUserVars=function(v){g(l,v)};
g.shutdown=function(){g("rec",!1)};g.restart=function(){g("rec",!0)};
g.consent=function(a){g("consent",!arguments.length||a)};
g.identifyAccount=function(i,v){o='account';v=v||{};v.acctId=i;g(o,v)};
g.clearUserCookie=function(){};
})(window,document,window['_fs_namespace'],'script','user');
    </script>
  </head>
  <body class="path-node page-node-type-support-doc has-glyphicons">


<section id="block-gtranslate" class="block block-gtranslate block-gtranslate-block clearfix">
  
    

      



  </section>


  </div>

      </div>
      

                    <div class="navbar-collapse collapse">
            <div class="region region-navigation-collapsible">
    

  </div>

        </div>
          </header>
  
    <div class="full-width-headline">
    <div class="container">
      <div class="row">
        <div class="col-sm-12" role="heading">
            <div class="region region-header">
          <section id="block-brightcoveheadlineblock" class="block block-bc-general block-bc-general-headline-block clearfix">
  
    

      Documentation
  </section>


  </div>

        </div>
      </div>
    </div>
  </div>
  
      <div role="main" class="main-container container  js-quickedit-main-content">
    <div class="row">

                              <aside class="col-sm-3" role="complementary">
              <div class="region region-sidebar-first">
    <section class="bc-search-fixes-search-block-form block block-bc-search-fixes block-bc-search-fixes-search-block clearfix" data-drupal-selector="bc-search-fixes-search-block-form" id="block-brightcovesearchblock">
  
    

      <form action="guide-ad-partner-integration.html" method="post" id="bc-search-fixes-search-block-form" accept-charset="UTF-8">
  <div class="form-item js-form-item form-type-textfield js-form-type-textfield form-item-search js-form-item-search form-no-label form-group">
      <label for="edit-search" class="control-label sr-only">Search</label>
  
  
  <input data-drupal-selector="edit-search" class="form-text form-control" type="text" id="edit-search" name="search" value="" size="15" maxlength="128" placeholder="Search" />

  
  
  </div>
<input autocomplete="off" data-drupal-selector="form-ydrib7gvgyxmtzfoi8hjm4l-fuzhxsj7esacq3vpuv8" type="hidden" name="form_build_id" value="form-Ydrib7gvgYxmTzFOi8HJM4L-FUzhxSj7ESACQ3VPUv8" /><input data-drupal-selector="edit-bc-search-fixes-search-block-form" type="hidden" name="form_id" value="bc_search_fixes_search_block_form" /><div data-drupal-selector="edit-actions" class="form-actions form-group js-form-wrapper form-wrapper" id="edit-actions"><button data-drupal-selector="edit-submit" class="button js-form-submit form-submit btn-primary btn icon-only" type="submit" id="edit-submit" name="op" value="Search"><span class="sr-only">Search</span><span class="icon glyphicon glyphicon-search" aria-hidden="true"></span></button></div>

</form>

  </section>

<section id="block-inpagenavigationblock" class="hidden-xs block block-bc-ipnav block-bc-ipnav-block clearfix">
  
      <h2 class="block-title">On This Page</h2>
    

      <div class="bc-ipnav-block"></div>
  </section>


  </div>

          </aside>
              
                  <section class="col-sm-9">

                                      <div class="highlighted">  <div class="region region-highlighted">
    <div data-drupal-messages-fallback class="hidden"></div>

  </div>
</div>
                  
                
                
                
                          <a id="main-content"></a>
            <div class="region region-content">
        <h1 class="page-header"><span>Guide: Ad Partner Integration</span>
</h1>

  
<div class="node node--type-support-doc node--view-mode-full bcdocs-four-rows clearfix">

  

  <div class="group-first-row">
      </div>

  <div class="group-second-row">
  
  <div class="field field--name-field-products field--type-entity-reference field--label-visually_hidden">
    <div class="field--label sr-only">Product(s)</div>
          <div class="field__items taxonomy__tags">
        <svg class="icon--product" viewBox="0 0 100 100">
          <use xlink:href="//support.brightcove.com/themes/custom/bcdocs/images/icons.svg#icon--product"></use>
        </svg>
              <div class="field--item">Video Cloud</div>
          <div class="field--item">Brightcove Player</div>
              </div>
      </div>

  <div class="field field--name-field-roles field--type-entity-reference field--label-visually_hidden">
    <div class="field--label sr-only">Role(s)</div>
          <div class="field__items taxonomy__tags">
        <svg class="icon--roles" viewBox="0 0 100 100">
          <use xlink:href="//support.brightcove.com/themes/custom/bcdocs/images/icons.svg#icon--roles"></use>
        </svg>
              <div class="field--item">Player Developer</div>
              </div>
      </div>

</div>

  
<div class="group-third-row taxonomy__tags">
      <svg class="icon--label" viewBox="0 0 100 100">
      <use xlink:href="//support.brightcove.com/themes/custom/bcdocs/images/icons.svg#icon--label"></use>
    </svg>
    
  <div class="field field--name-field-topics field--type-entity-reference field--label-visually_hidden">
    <div class="field--label sr-only">Topic(s)</div>
          <div class="field--items">
              <div class="field--item">Advertising</div>
              </div>
      </div>

</div>

  <div class="group-fourth-row">
  
            <div class="field field--name-field-support-doc-body field--type-text-with-summary field--label-hidden field--item"><p>This document describes functionality you can implement if you wish to integrate your advertising system with Brightcove Player.</p>
            <article class="bcls-article"><section id="Overview" class="bcls-section"><h2>Overview</h2>

<p>If your advertising system is compliant with Google IMA3, for instance, you do not need this information but can simply use the existing plugin for IMA3, documented in the <a href="advertising-ima3-plugin.html">Advertising with IMA3 Plugin Guide</a>.</p>

<p>If you have determined you need this functionality, this content explains the advertising API framework needed for advertising integrations with the Brightcove Player. You can see two implementations of this framework that Brightcove has produced, those being for Google's IMA3 and FreeWheel (reference documents shown in the next paragraph).</p>

<p>Again, this document is NOT intended for customers wanting to use an existing ad framework with their videos. Documents more suitable for these customers are:</p>

<ul><li><a href="advertising-ima3-plugin.html">Advertising with IMA3 Plugin</a></li>
	<li><a href="advertising-freewheel-plugin.html">Advertising with the FreeWheel Plugin</a></li>
	<li><a href="implementing-server-side-ads-brightcove-player.html">Implementing Server-Side Ads with the Brightcove Player</a></li>
</ul></section><section id="frameworkfunctionality" class="bcls-section"><h2>Ad framework functionality</h2>

<p>Brightcove provides an advertising API framework as the basis for custom ad plugins. The framework provides common functionality needed by video advertisement libraries working with the Brightcove Player, reducing the code you have to write for your ad integration. The framework is provided as an open source project upon which you can build. The project code is available from the GitHub repository <a href="https://github.com/videojs/videojs-contrib-ads">videojs-contrib-ads</a>.</p>

<p>The ad framework enables ad partners to:</p>

<ul><li>Have complete control over the advertising experience (i.e., the look and behavior of the player while ads are playing).</li>
	<li>Work with custom or proprietary ad servers.</li>
	<li>Manage low-level ad implementation details, like determining when ad requests are made and how creatives are buffered.</li>
	<li>Easily interoperate with video analytics providers and the Brightcove Player ecosystem.</li>
</ul></section><section id="baseknowledge" class="bcls-section"><h2>Base knowledge</h2>

<p>To use and build upon the advertising API framework you will need a thorough understanding of Brightcove Player plugin architecture. The following documents provide this knowledge:</p>

<ul><li><a href="overview-brightcove-player-plugins.html">Overview: Player Plugins</a></li>
	<li><a href="pass-data-plugin.html">Pass Data to the Plugin</a></li>
	<li><a href="localizing-plugins.html">Localizing Plugins</a></li>
</ul><p>If necessary for you, a quick overview of video advertising from Brightcove's perspective can be found here:</p>

<ul><li><a href="learning-guide-video-advertising.html">Learning Guide: Video Advertising</a></li>
</ul></section><section id="using" class="bcls-section"><h2>Using the framework</h2>

<p>The following sections provide details on using the framework.</p>

<h3>Include the framework resources</h3>

<p>To use the plugin you must first be sure to include the CSS and JavaScript for the plugin.</p>

<pre class="line-numbers">
<code class="language-html">&lt;link rel="stylesheet" href="//mypath/videojs.ads.css"&gt;
&lt;script src="//mypath/videojs.ads.js"&gt;&lt;/script&gt;</code></pre>

<p>Once the JavaScript is included you can then call the function to initialize the ad framework.</p>

<pre class="line-numbers">
<code class="language-html">&lt;script type="text/javascript"&gt;
  videojs.getPlayer('myPlayerID').one('loadedmetadata', function(){
    var myPlayer = this;
    // Initialize the ad framework
    <span class="bcls-highlight">myPlayer.ads();</span>
  });
&lt;/script&gt;</code></pre>

<aside class="bcls-aside bcls-aside--tip">Note: While the <code>ready()</code> method is used to indicate that the player is loaded and ready, the <code>loadedmetadata</code> event is used to indicate that the player content, like ads, is ready to interact with. Here, we are also using the <code>one()</code> method so that our function is executed the first time the plugin is loaded and not every time a video is loaded. For details, see the <a href="player-events.html">Player Events</a> document.</aside><h3>Configuration options</h3>

<p>There are a number of configuration options available for the framework. For instance, there is a <code>timeout</code> option. To set this option you would use the following code:</p>

<pre class="line-numbers">
<code class="language-html">&lt;script type="text/javascript"&gt;
  videojs.getPlayer('myPlayerID').one('loadedmetadata', function(){
    var myPlayer = this;
    // Initialize the ad framework
    myPlayer.ads({
      "timeout": 3000
    });
  });
&lt;/script&gt;</code></pre>

<p>This table provides a list of the options:</p>

<aside class="bcls-aside bcls-aside--information">Note: For complete details on configuration options see the <a href="https://github.com/videojs/videojs-contrib-ads">https://github.com/videojs/videojs-contrib-ads</a> GitHub repository.</aside><table class="bcls-table"><thead class="bcls-table__head"><tr><th style="width:15%">Option</th>
			<th style="width:15%">Type</th>
			<th style="width:15%">Default</th>
			<th style="width:55%">Description</th>
		</tr></thead><tbody class="bcls-table__body"><tr><td><code>timeout</code></td>
			<td>number</td>
			<td>5000</td>
			<td>The maximum amount of time to wait for an ad implementation to initialize before playback, in milliseconds</td>
		</tr><tr><td><code>prerollTimeout</code></td>
			<td>number</td>
			<td>1000</td>
			<td>The maximum amount of time to wait for an ad implementation to initiate a preroll, in milliseconds</td>
		</tr><tr><td><code>postrollTimeout</code></td>
			<td>number</td>
			<td>100</td>
			<td>The maximum amount of time to wait for an ad implementation to initiate a postroll, in milliseconds</td>
		</tr><tr><td><code>debug</code></td>
			<td>boolean</td>
			<td>false</td>
			<td>If debug is set to true, the ads plugin will output additional information about its current state during playback</td>
		</tr></tbody></table><h3>Events</h3>

<p>The following events are grouped into two different types. The groupings and their descriptions follow.</p>

<aside class="bcls-aside bcls-aside--information">Note: For complete details on framework events see the <a href="https://github.com/videojs/videojs-contrib-ads">https://github.com/videojs/videojs-contrib-ads</a> GitHub repository.</aside><p>The <code>adstart</code> and <code>adend</code> events are triggered by the framework in response to method calls from the ad integrator. These events should not be triggered by the ad integrator directly.</p>

<table class="table-styles"><thead><tr><th style="width:20%">Event</th>
			<th style="width:80%">Description</th>
		</tr></thead><tbody><tr><td>adstart</td>
			<td>The player has entered linear ad playback mode</td>
		</tr><tr><td>adend</td>
			<td>The player has returned from linear ad playback mode</td>
		</tr></tbody></table><p>The <code>adskip</code> and <code>adtimeout</code> events are optional events that the ad integrator can choose trigger to indicate the player should skip a preroll or postroll opportunity.</p>

<table class="table-styles"><thead><tr><th style="width:20%">Event</th>
			<th style="width:80%">Description</th>
		</tr></thead><tbody><tr><td>adskip</td>
			<td>The player is skipping a linear ad opportunity and content-playback should resume immediately</td>
		</tr><tr><td>adtimeout</td>
			<td>A timeout managed by the plugin has expired and regular video content has begun to play</td>
		</tr></tbody></table><h3>Runtime settings</h3>

<p>Once the plugin is initialized, there is a property you can use to modify its behavior.</p>

<aside class="bcls-aside bcls-aside--information">Note: For complete details on framework runtime settings see the <a href="https://github.com/videojs/videojs-contrib-ads">https://github.com/videojs/videojs-contrib-ads</a> GitHub repository.</aside><table class="table-styles"><thead><tr><th style="width:20%">Property</th>
			<th style="width:80%">Description</th>
		</tr></thead><tbody><tr><td>contentSrc</td>
			<td>This property is used to determine when a new video loads so that the player can be reset to the "get ready to show a preroll" state. Ad providers would not typically interact with it, but a plugin author who wished to change the video source to implement a rendition selector, for instance, could modify the <code>contentSrc</code> so that a preroll wasn't initiated when a rendition switch occurred.</td>
		</tr></tbody></table></section><section id="example" class="bcls-section"><h2>Examples</h2>

<h3>Sample implementation</h3>

<p>The hands-on exercise section of the <a href="advertising-ima3-plugin.html#playersmodule">Advertising with IMA3 Plugin Guide</a> walks you through a simple implementation of using a plugin for IMA3 advertising.</p>

<h3>Pseudo code integration</h3>

<p>Here's pseudo code of what a basic ad integration might look like. This example shows a single preroll ad before each content video, and demonstrates the interaction points offered by the ads plugin. This is not actually a runnable example, as it needs more information as specified in the code comments.</p>

<pre class="line-numbers">
<code class="language-html">&lt;script type="text/javascript"&gt;
  videojs.getPlayer('myPlayerID').one('loadedmetadata', function(){
    var player = this;
    player.ads(); // initialize the ad framework

    // request ads whenever there's new video content
    player.on('contentupdate', function(){
      // fetch ad inventory asynchronously, then ...
      player.trigger('adsready');
    });

    player.on('readyforpreroll', function() {
      player.ads.startLinearAdMode();
      // play your linear ad content
      player.src('http://url/to/your/ad.content');
      player.one('durationchange', function(){
        player.play();
      });
      // when all your linear ads have finished...
      player.one('ended', function() {
        player.ads.endLinearAdMode();
      });
    });
  });
&lt;/script&gt;</code></pre>
</section><section id="faq" class="bcls-section"><h2>FAQ</h2>

<p class="bcls-question">How can an ad plugin access media metadata?</p>

<p class="bcls-answer">For Video Cloud customers, the plugin will access metadata via the <a href="video-metadata-mediainfo.html">mediainfo</a> object, which will be populated with metadata set in Video Cloud. Brightcove Player customers will be responsible for populating the <a href="video-metadata-mediainfo.html">mediainfo object manually</a> since they'll be using a non-Video Cloud CMS.</p>

<p class="bcls-question">How can options be specified for an ad plugin?</p>

<p class="bcls-answer">Plugin options can be specified in Studio's <strong>Players &gt; Plugins</strong> section. The player with the plugin containing options can be published using an iframe or in-page embed code, but the plugin options contain static info (e.g., description). You can pass dynamic data to the plugin using the technique shown in the <a href="pass-data-plugin.html">Pass Data to the Plugin</a> document.</p>

<p class="bcls-question">How should an ad plugin support Flash-based ads?</p>

<p class="bcls-answer">Brightcove recommends packaging a Flash-based ad player as part of your ad plugin implementation and overlaying that player over the content while the player is in linear ad mode.</p>

<p class="bcls-question">How can cue points trigger mid-rolls?</p>

<p class="bcls-answer">On cue change, call <code>startLinearAdMode()</code> to begin the midroll. For information on listening for, and setting, cue points see the <a href="displaying-ads-using-ad-cue-points.html">Using Cue Points</a> document.</p>
</section></article></div>
      
</div>

</div>


<section class="views-element-container block block-views block-views-blockrelated-content-by-field-block-1 clearfix" id="block-views-block-related-content-by-field-block-1">
  
    

      <div class="form-group"><div class="view view-related-content-by-field view-id-related_content_by_field view-display-id-block_1 js-view-dom-id-9b20e0d2529dfcb820781f1bf438cd46d4a55b077ae290c65bbe192ca05faf76">
  
    
      <div class="view-header">
      <h2>Related content</h2>
    </div>
      
      <div class="view-content">
      <div class="item-list">
  
  <ul>

          <li><div class="views-field views-field-title"><span class="field-content"><span class="content-type-support_doc"><a href="overview-brightcove-player-plugins.html" hreflang="en">Overview: Brightcove Player Plugins</a></span></span></div></li>
          <li><div class="views-field views-field-title"><span class="field-content"><span class="content-type-support_doc"><a href="step-step-plugin-development.html" hreflang="en">Step-by-Step: Plugin Development</a></span></span></div></li>
          <li><div class="views-field views-field-title"><span class="field-content"><span class="content-type-support_doc"><a href="pass-data-plugin.html" hreflang="en">Pass Data to the Plugin</a></span></span></div></li>
          <li><div class="views-field views-field-title"><span class="field-content"><span class="content-type-support_doc"><a href="localizing-plugins.html" hreflang="en">Localizing Plugins</a></span></span></div></li>
          <li><div class="views-field views-field-title"><span class="field-content"><span class="content-type-support_doc"><a href="learning-guide-video-advertising.html" hreflang="en">Learning Guide: Video Advertising</a></span></span></div></li>
    
  </ul>

</div>

    </div>
  
          </div>
</div>

  </section>


  </div>

              </section>

                </div>
  </div>

      
  
  </div>

    
    <script type="application/json" data-drupal-selector="drupal-settings-json">{"path":{"baseUrl":"\/","scriptPath":null,"pathPrefix":"","currentPath":"node\/18098","currentPathIsAdmin":false,"isFront":false,"currentLanguage":"en"},"pluralDelimiter":"\u0003","google_analytics":{"trackOutbound":true,"trackMailto":true,"trackDownload":true,"trackDownloadExtensions":"7z|aac|arc|arj|asf|asx|avi|bin|csv|doc(x|m)?|dot(x|m)?|exe|flv|gif|gz|gzip|hqx|jar|jpe?g|js|mp(2|3|4|e?g)|mov(ie)?|msi|msp|pdf|phps|png|ppt(x|m)?|pot(x|m)?|pps(x|m)?|ppam|sld(x|m)?|thmx|qtm?|ra(m|r)?|sea|sit|tar|tgz|torrent|txt|wav|wma|wmv|wpd|xls(x|m|b)?|xlt(x|m)|xlam|xml|z|zip"},"bootstrap":{"forms_has_error_value_toggle":1,"modal_animation":1,"modal_backdrop":"true","modal_focus_input":1,"modal_keyboard":1,"modal_select_text":1,"modal_show":1,"modal_size":"","popover_enabled":1,"popover_animation":1,"popover_auto_close":1,"popover_container":"body","popover_content":"","popover_delay":"0","popover_html":0,"popover_placement":"right","popover_selector":"","popover_title":"","popover_trigger":"click"},"ajaxTrustedUrl":{"form_action_p_pvdeGsVG5zNF_XLGPTvYSKCf43t8qZYSwcfZl2uzM":true},"user":{"uid":0,"permissionsHash":"3b7fdb4927baca3ee2939edeb777485b3e2c2d36cf8c80e0d8f49c6dc5e2eeca"}}</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

  <script type="text/javascript">window.NREUM||(NREUM={});NREUM.info={"beacon":"bam.nr-data.net","licenseKey":"e78a80aa93","applicationID":"129613202","transactionName":"YwBUZkcFVktUWhJQX1pKd1FBDVdWGn0UTEBVCWpxWhZdZHNWFFRscgpEX3cRUVRRXBQUDkYAWFZQFmhUVFoDUV9YAVNAcwtKVXRaElBfWg==","queueTime":0,"applicationTime":471,"atts":"T0dXEA8fRUU=","errorBeacon":"bam.nr-data.net","agent":""}</script></body>
</html>
